import{_ as i,c as a,o as h,ag as n}from"./chunks/framework.Zc4NuDMF.js";const g=JSON.parse('{"title":"Incremental Complexity","description":"","frontmatter":{},"headers":[],"relativePath":"guide/react/examples/incremental-complexity.md","filePath":"guide/react/examples/incremental-complexity.md"}'),k={name:"guide/react/examples/incremental-complexity.md"};function t(l,s,p,e,r,d){return h(),a("div",null,s[0]||(s[0]=[n(`<h1 id="incremental-complexity" tabindex="-1">Incremental Complexity <a class="header-anchor" href="#incremental-complexity" aria-label="Permalink to &quot;Incremental Complexity&quot;">​</a></h1><h2 id="usestate-without-regrets" tabindex="-1"><code>useState</code> without regrets <a class="header-anchor" href="#usestate-without-regrets" aria-label="Permalink to &quot;\`useState\` without regrets&quot;">​</a></h2><p>Clean state management should be easy, like <code>useState</code>.</p><p>Developers should feel completely free to use <code>useState</code> for simple features.</p><h2 id="a-smooth-path-to-reducers" tabindex="-1">A smooth path to reducers <a class="header-anchor" href="#a-smooth-path-to-reducers" aria-label="Permalink to &quot;A smooth path to reducers&quot;">​</a></h2><p>But when state needs to change in more complex ways, there are 2 approaches:</p><blockquote><p><strong>Event handlers</strong>—scattered state logic ❌</p></blockquote><blockquote><p><strong>Reducers</strong>—colocated state logic ✅</p></blockquote><p>Reducers are great, but refactoring from <code>useState</code> to <code>useReducer</code> takes a lot of work.</p><p>StateAdapt provides a smoother path to reducers:</p><h3 id="_1-replace-usestate-with-useadapt" tabindex="-1">1. Replace <code>useState</code> with <code>useAdapt</code> <a class="header-anchor" href="#_1-replace-usestate-with-useadapt" aria-label="Permalink to &quot;1. Replace \`useState\` with \`useAdapt\`&quot;">​</a></h3><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> SimpleStateAdapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line diff remove"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useState</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">); </span></span>
<span class="line diff add"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useAdapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">); </span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#AF00DB;">  return</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;&gt;</span></span>
<span class="line diff remove"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><p>Result:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> SimpleStateAdapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useAdapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#AF00DB;">  return</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><h3 id="_2-add-reducers" tabindex="-1">2. Add Reducers <a class="header-anchor" href="#_2-add-reducers" aria-label="Permalink to &quot;2. Add Reducers&quot;">​</a></h3><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> ReducedState</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line diff remove"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useAdapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">); </span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useAdapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line diff add"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">    reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">), </span><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// name type inferred</span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  }); </span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#AF00DB;">  return</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><p>Result:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> ReducedState</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useAdapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">    reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  });</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#AF00DB;">  return</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><h2 id="a-smooth-path-to-shared-state" tabindex="-1">A smooth path to shared state <a class="header-anchor" href="#a-smooth-path-to-shared-state" aria-label="Permalink to &quot;A smooth path to shared state&quot;">​</a></h2><p>Moving local state to shared state should be easy.</p><p><code>useAdapt</code> easily splits into <code>adapt</code> and <code>useStore</code>:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> nameStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line diff add"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">  reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">), </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> SharedState</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useAdapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line diff remove"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">    reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">), </span></span>
<span class="line diff remove"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  }); </span></span>
<span class="line diff add"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">nameStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">); </span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#AF00DB;">  return</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><p>Result:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> nameStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">  reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> SharedState</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">nameStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#AF00DB;">  return</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><h2 id="a-smooth-path-to-shared-derived-state" tabindex="-1">A smooth path to shared, derived state <a class="header-anchor" href="#a-smooth-path-to-shared-derived-state" aria-label="Permalink to &quot;A smooth path to shared, derived state&quot;">​</a></h2><p>Nothing is as easy as derived state in React components:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useAdapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">nameStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> randomCaseName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span></span>
<span class="line highlighted"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">) </span></span>
<span class="line highlighted"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">map</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;">c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">Math</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">random</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() &gt; </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">0.5</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> ?</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> :</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">toUpperCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">())) </span></span>
<span class="line highlighted"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// ...</span></span></code></pre></div><p>Since nothing can match this syntax, anything you do to share this logic with other components will require <em>some</em> refactoring.</p><p>One way StateAdapt addresses this is by allowing selectors to be defined alongside state from the start:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> SharedDerivedState</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useAdapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">    reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">    seletors</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> {</span></span>
<span class="line diff add"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">      randomCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;">        name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">      ) </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">        name</span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">          .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">) </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">          .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">map</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;">c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">Math</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">random</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() &gt; </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">0.5</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> ?</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> :</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">toUpperCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">())) </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">          .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">), </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">    }, </span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  });</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#AF00DB;">  return</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">randomCase</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><p>Now if you need to share it, the selectors can just move with the state:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> nameStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line diff add"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">  reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">), </span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  seletors</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> {</span></span>
<span class="line diff add"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">    randomCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;">      name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">    ) </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">      name</span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">) </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">map</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;">c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">Math</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">random</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() &gt; </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">0.5</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> ?</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> :</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">toUpperCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">())) </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">), </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  }, </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> SharedDerivedState</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useAdapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line diff remove"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">    reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">), </span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">    seletors</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> {</span></span>
<span class="line diff remove"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">      randomCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line diff remove"><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;">        name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">      ) </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span></span>
<span class="line diff remove"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">        name</span></span>
<span class="line diff remove"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">          .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">) </span></span>
<span class="line diff remove"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">          .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">map</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;">c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">Math</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">random</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() &gt; </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">0.5</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> ?</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> :</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">toUpperCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">())) </span></span>
<span class="line diff remove"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">          .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">), </span></span>
<span class="line diff remove"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">    }, </span></span>
<span class="line diff remove"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  }); </span></span>
<span class="line diff add"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">nameStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">); </span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#AF00DB;">  return</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">randomCase</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><p>Result:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> nameStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">  reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  seletors</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">    randomCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">      name</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">)</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">map</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;">c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">Math</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">random</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() &gt; </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">0.5</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> ?</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> :</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">toUpperCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">()))</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  },</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> SharedDerivedState</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">nameStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#AF00DB;">  return</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">randomCase</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><h2 id="a-smooth-path-to-state-logic-reuse" tabindex="-1">A smooth path to state logic reuse <a class="header-anchor" href="#a-smooth-path-to-state-logic-reuse" aria-label="Permalink to &quot;A smooth path to state logic reuse&quot;">​</a></h2><h3 id="decoupled" tabindex="-1">Decoupled <a class="header-anchor" href="#decoupled" aria-label="Permalink to &quot;Decoupled&quot;">​</a></h3><p>State logic that references <a href="#a-smooth-path-to-reactive-state">specific event sources</a> and specific state can require major refactoring if multiple states end up needing it.</p><p>State adapters provide a smooth path to extracting logic away from specific event sources and state:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> nameStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, { </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">const </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">createAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&lt;</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#267F99;">string</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&gt;()({ </span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">  reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  selectors</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">    randomCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">      name</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">)</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">map</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;">c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">Math</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">random</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() &gt; </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">0.5</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> ?</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> :</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">toUpperCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">()))</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  },</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">const </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">); </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">const </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Kat&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// ...</span></span></code></pre></div><p>Result:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">createAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&lt;</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#267F99;">string</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&gt;()({</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">  reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  selectors</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">    randomCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">      name</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">)</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">map</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;">c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">Math</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">random</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() &gt; </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">0.5</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> ?</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> :</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">toUpperCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">()))</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  },</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Kat&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> StateAdapters</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#AF00DB;">  return</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">randomCase</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">randomCase</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><h3 id="composable" tabindex="-1">Composable <a class="header-anchor" href="#composable" aria-label="Permalink to &quot;Composable&quot;">​</a></h3><p>State adapters provide a smooth path to adapting to changes in state shape. If you start with a simple boolean adapter, for example:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes sa-dark light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> booleanAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">createAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&lt;</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#267F99;">boolean</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&gt;()({</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">  toggle</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> !</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span></code></pre></div><p>And later decide to have multiple boolean properties of a larger state object:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes sa-dark light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">type</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#267F99;"> State</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = {</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  isActive</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">: </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#267F99;">boolean</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">;</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  isVisible</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">: </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#267F99;">boolean</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">};</span></span></code></pre></div><p>You can reuse the simple boolean logic by creating a <a href="/api/core/src/joinAdapters.html">joined adapter</a> that extends it:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes sa-dark light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> adapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">joinAdapters</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&lt;</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#267F99;">State</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&gt;()({</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  isActive</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> booleanAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  isVisible</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> booleanAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">})();</span></span></code></pre></div><p>This creates reducers in <code>adapter</code> called <code>toggleIsActive</code> and <code>toggleIsVisible</code> that toggle the respective properties.</p><p>State adapters are also an opportunity to share generic state management logic. Check out the adapters you can import from <a href="/api/core/adapters/">@state-adapt/core/adapters</a>.</p><h2 id="a-smooth-path-to-reactive-state" tabindex="-1">A smooth path to reactive state <a class="header-anchor" href="#a-smooth-path-to-reactive-state" aria-label="Permalink to &quot;A smooth path to reactive state&quot;">​</a></h2><p>When multiple states need to change after an event, there are 2 approaches:</p><blockquote><p><strong>Event handlers updating multiple states</strong>—scattered state changes ❌</p></blockquote><blockquote><p><strong>States reacting to events</strong>—colocated state changes ✅</p></blockquote><p>Reactive state is great, but it takes a lot of work to refactor to a state management library that supports event-driven state.</p><p>StateAdapt provides a smooth path to reactive state:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// ...</span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">source</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(); </span><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// Event source</span></span>
<span class="line"></span>
<span class="line diff remove"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">); </span></span>
<span class="line diff add"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, { </span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  adapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> { </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">reset</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> }, </span><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// calls \`reset\` reducer (included)</span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}); </span></span>
<span class="line diff remove"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Kat&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">); </span></span>
<span class="line diff add"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Kat&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, { </span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  adapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> { </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">reset</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> }, </span><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// calls \`reset\` reducer (included)</span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// ...</span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">onResetAll</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reset All</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><p>Result:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">createAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&lt;</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#267F99;">string</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&gt;()({</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">  reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  selectors</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">    randomCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">      name</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">)</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">map</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;">c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">Math</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">random</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() &gt; </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">0.5</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> ?</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> :</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">toUpperCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">()))</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  },</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">source</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  adapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> { </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">reset</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> },</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Kat&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  adapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> { </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">reset</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> },</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> ReactiveState</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#AF00DB;">  return</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">randomCase</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">randomCase</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">onResetAll</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reset All</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><h2 id="a-smooth-path-to-multi-store-shared-derived-states" tabindex="-1">A smooth path to multi-store, shared, derived states <a class="header-anchor" href="#a-smooth-path-to-multi-store-shared-derived-states" aria-label="Permalink to &quot;A smooth path to multi-store, shared, derived states&quot;">​</a></h2><p>State derived from multiple stores can <a href="https://dev.to/mfp22/signals-make-angular-much-easier-3k9" target="_blank" rel="noreferrer">glitch and over-compute</a> in some libraries, especially if RxJS-based.</p><p>But StateAdapt&#39;s <code>joinStores</code> is glitch-free and efficient, preventing the need for complicated workarounds and refactors:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// ...</span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name12Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">joinStores</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">({ </span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">})({ </span></span>
<span class="line diff add"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">  bobcat</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> s</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> s</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> === </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> &amp;&amp; </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">s</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> === </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Kat&#39;</span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">})(); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// ...</span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [{ </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">bobcat</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> }] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name12Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">  // ...</span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">      {</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">bobcat</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> &amp;&amp; </span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello, bobcat!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">} </span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><p>Result:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">createAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&lt;</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#267F99;">string</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&gt;()({</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">  reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  selectors</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">    randomCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">      name</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">)</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">map</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;">c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">Math</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">random</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() &gt; </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">0.5</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> ?</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> :</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">toUpperCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">()))</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  },</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">source</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  adapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> { </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">reset</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> },</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Kat&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  adapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> { </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">reset</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> },</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name12Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">joinStores</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">({</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">})({</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">  bobcat</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> s</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> s</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> === </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> &amp;&amp; </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">s</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> === </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Kat&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">})();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> MultiStoreSharedDerivedState</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [{ </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">bobcat</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> }] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name12Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#AF00DB;">  return</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">randomCase</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">randomCase</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">onResetAll</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reset All</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">      {</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">bobcat</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> &amp;&amp;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;"> &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">Hello, bobcat!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><h2 id="a-smooth-path-to-derived-events" tabindex="-1">A smooth path to derived events <a class="header-anchor" href="#a-smooth-path-to-derived-events" aria-label="Permalink to &quot;A smooth path to derived events&quot;">​</a></h2><p>RxJS is the only way to smoothly scale to complex event-driven features.</p><p>StateAdapt sources extend RxJS observables, and StateAdapt stores directly reference RxJS observables and react to them:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// ...</span></span>
<span class="line"></span>
<span class="line diff remove"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, { </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">const </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Loading...&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, { </span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  adapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line diff remove"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> { </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">reset</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> }, </span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> { </span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">    set</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> of</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">pipe</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">delay</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">3000</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">)), </span><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// Any observable</span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">    reset</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  }, </span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line diff remove"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">const </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Kat&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, { </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">const </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Loading...&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, { </span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  adapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line diff remove"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> { </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">reset</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> }, </span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> { </span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">    set</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> of</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Kat&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">pipe</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">delay</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">3000</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">)), </span><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// Any observable</span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">    reset</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span></span>
<span class="line diff add"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  }, </span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">// ...</span></span></code></pre></div><p>Result:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">createAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&lt;</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#267F99;">string</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">&gt;()({</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">  reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">().</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  selectors</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">    randomCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> name</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">      name</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">split</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">)</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">map</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;">c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">Math</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">random</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() &gt; </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">0.5</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> ?</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#000000;"> :</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> c</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">toUpperCase</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">()))</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">        .</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">join</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  },</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">source</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Loading...&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  adapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">    set</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> of</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">pipe</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">delay</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">3000</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">)),</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">    reset</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  },</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Loading...&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  adapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> nameAdapter</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">    set</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> of</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Kat&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">pipe</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">delay</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">3000</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">)),</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">    reset</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> onResetAll</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  },</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name12Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">joinStores</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">({</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">})({</span></span>
<span class="line"><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">  bobcat</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#001080;--shiki-light-font-style:inherit;"> s</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;"> =&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> s</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> === </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> &amp;&amp; </span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">s</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> === </span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Kat&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">})();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> DerivedEvents</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [{ </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">bobcat</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> }] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name12Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#AF00DB;">  return</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> (</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">randomCase</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Hello </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">randomCase</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> setName2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bilbo&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">)</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Change Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">() </span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;"> setName2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">reverse</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">()</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reverse Name</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">      &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#4BF3C8;--shiki-dark-font-style:italic;--shiki-light:#E50000;--shiki-light-font-style:inherit;"> onClick</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">=</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">{</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">onResetAll</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">Reset All</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">button</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">      {</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">bobcat</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> &amp;&amp;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;"> &lt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000FF;">Hello, bobcat!</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&lt;/</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#800000;">h2</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">&gt;</span><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">}</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#800000;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">  );</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">}</span></span></code></pre></div><h2 id="automatic-state-lifecycle" tabindex="-1">Automatic State Lifecycle <a class="header-anchor" href="#automatic-state-lifecycle" aria-label="Permalink to &quot;Automatic State Lifecycle&quot;">​</a></h2><p>For state to be fully reactive, it cannot rely on external control code, including initialization and cleanup code.</p><p>StateAdapt stores know when they are being used, and automatically initialize and cleanup their state.</p><p>So, for this store:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Loading...&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> of</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">pipe</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">delay</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">3000</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">)),</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span></code></pre></div><p>When this component mounts:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> AutomaticStateLifecycle</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">() {</span></span>
<span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">  const</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> [</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">name1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, </span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;">setName1</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">] = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">useStore</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F98F;--shiki-dark-font-style:italic;--shiki-light:#008000;--shiki-light-font-style:inherit;">  // ...</span></span></code></pre></div><p>Only then will the state be initialized with <code>Loading...</code> and the observable created by <code>of(&#39;Bob&#39;).pipe(delay(3000))</code> receive a subscription. After 3 seconds, the name will change to <code>&#39;Bob&#39;</code>.</p><p>Then, when <code>AutomaticStateLifecycle</code> unmounts, as long as no other components are using <code>name1Store</code>, the state will be cleared.</p><p>Then, when <code>AutomaticStateLifecycle</code> mounts again, the state will be re-initialized to <code>&#39;Loading...&#39;</code>, the observable created with <code>of(&#39;Bob&#39;).pipe(delay(3000))</code> will be subscribed to again, and after 3 seconds the name will change to <code>&#39;Bob&#39;</code> again.</p><p>In situations where you want to keep the store permanently active, you can manually subscribe to its <code>state$</code>:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes sa-dark light-plus has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:var(--vp-c-brand-1);--shiki-light:#0000FF;">const</span><span style="--shiki-dark:var(--vp-c-brand-3-light-5);--shiki-light:#0070C1;"> name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">adapt</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Loading...&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">, {</span></span>
<span class="line"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">  sources</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#001080;">:</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;"> of</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#A31515;">&#39;Bob&#39;</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">).</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">pipe</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">delay</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(</span><span style="--shiki-dark:var(--vp-c-brand-2-light-4);--shiki-light:#098658;">3000</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">)),</span></span>
<span class="line"><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">});</span></span>
<span class="line diff add"><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">name1Store</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#4BF3C8;--shiki-light:#001080;">state$</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">.</span><span style="--shiki-dark:#00DAEF;--shiki-light:#795E26;">subscribe</span><span style="--shiki-dark:#EEF0F9;--shiki-light:#000000;">(); </span></span></code></pre></div>`,83)]))}const E=i(k,[["render",t]]);export{g as __pageData,E as default};
