(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[897],{1897:(Tn,ze,x)=>{"use strict";x.r(ze),x.d(ze,{AdaptersCoreComponent:()=>Pi,CodeEditorService:()=>se,EditorReadyService:()=>De});var H=x(7365);const W={name:"Adapter Name",description:"Adapter Description",sourceCode:"sourceCode",parameters:[{text:"text",description:"description"}],demoAdapter:{value:(0,H.Uh)()({}),stateChanges:{},selectors:{},sourceCode:"export const demoAdapter = {};",initialState:null}};var q=x(4084);function G(n){return JSON.stringify(n,null,"\t")}function ge(n){return new Array(n).fill("    ").join("")}function ne(n,a=0){if(void 0===n)return"";const e=Array.isArray(n),i="a"===(null==n?void 0:n._t);return e||i?i?function St(n,a){return Object.entries(n).filter(([e,i])=>"_t"!==e&&"a"!==i).reduce((e,[i,f])=>{const m=i.replace(/_/,""),T=""===f[0]&&3===f[2],I=T?We(+m,+f[1]):"",O=i===m,Q=O?ce(+m):"",ae=O?ce(f[0]):"",J=i!==m&&!T,rn=I+Q+(J?le(+m):""),wn=""+ae+(J?le(f[0]):""),Ui=wn?": ":"";return`${e}\n${ge(a+1)}${rn}${Ui}${wn},`},"[")+`\n${ge(a)}]`}(n,a):function It(n){return kt[n.length](n)}(n):function oe(n,a){return Object.entries(n).reduce((e,[i,f])=>`${e}\n${ge(a+1)}${i}: ${ne(f,a+1)},`,"{")+`\n${ge(a)}}`}(n,a)}function Oe(n,a){return`<span class="${a}">${G(n)}</span>`}function We(n,a){return`${le(n)} => ${ce(a)}`}function le(n){return Oe(n,"removed")}function ce(n){return Oe(n,"added")}const kt={1:n=>ce(n[0]),2:n=>We(n[0],n[1]),3:n=>le(n[0])};var me=x(591),t=x(5e3);let De=(()=>{class n{constructor(){this.ready$=new me.X(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var we=x(5529),Ne=x(6053),Te=x(2654);class qe extends Te.w{constructor(a,e){super()}schedule(a,e=0){return this}}let Re=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,f){return new this.SchedulerAction(this,e).schedule(f,i)}}return n.now=()=>Date.now(),n})();class K extends Re{constructor(a,e=Re.now){super(a,()=>K.delegate&&K.delegate!==this?K.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(a,e=0,i){return K.delegate&&K.delegate!==this?K.delegate.schedule(a,e,i):super.schedule(a,e,i)}flush(a){const{actions:e}=this;if(this.active)return void e.push(a);let i;this.active=!0;do{if(i=a.execute(a.state,a.delay))break}while(a=e.shift());if(this.active=!1,i){for(;a=e.shift();)a.unsubscribe();throw i}}}const He=new K(class Ke extends qe{constructor(a,e){super(a,e),this.scheduler=a,this.work=e,this.pending=!1}schedule(a,e=0){if(this.closed)return this;this.state=a;const i=this.id,f=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(f,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(f,this.id,e),this}requestAsyncId(a,e,i=0){return setInterval(a.flush.bind(a,this),i)}recycleAsyncId(a,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(a,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(a,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(a,e){let f,i=!1;try{this.work(a)}catch(m){i=!0,f=!!m&&m||new Error(m)}if(i)return this.unsubscribe(),f}_unsubscribe(){const a=this.id,e=this.scheduler,i=e.actions,f=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==f&&i.splice(f,1),null!=a&&(this.id=this.recycleAsyncId(e,a,null)),this.delay=null}});var Xe=x(3489),At=x(8896),ve=x(1086),Et=x(1737);class z{constructor(a,e,i){this.kind=a,this.value=e,this.error=i,this.hasValue="N"===a}observe(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete()}}do(a,e,i){switch(this.kind){case"N":return a&&a(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(a,e,i){return a&&"function"==typeof a.next?this.observe(a):this.do(a,e,i)}toObservable(){switch(this.kind){case"N":return(0,ve.of)(this.value);case"E":return(0,Et._)(this.error);case"C":return(0,At.c)()}throw new Error("unexpected notification kind value")}static createNext(a){return void 0!==a?new z("N",a):z.undefinedValueNotification}static createError(a){return new z("E",void 0,a)}static createComplete(){return z.completeNotification}}z.completeNotification=new z("C"),z.undefinedValueNotification=new z("N",void 0);class Mt{constructor(a,e){this.delay=a,this.scheduler=e}call(a,e){return e.subscribe(new be(a,this.delay,this.scheduler))}}class be extends Xe.L{constructor(a,e,i){super(a),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(a){const e=a.source,i=e.queue,f=a.scheduler,m=a.destination;for(;i.length>0&&i[0].time-f.now()<=0;)i.shift().notification.observe(m);if(i.length>0){const T=Math.max(0,i[0].time-f.now());this.schedule(a,T)}else this.unsubscribe(),e.active=!1}_schedule(a){this.active=!0,this.destination.add(a.schedule(be.dispatch,this.delay,{source:this,destination:this.destination,scheduler:a}))}scheduleNotification(a){if(!0===this.errored)return;const e=this.scheduler,i=new tt(e.now()+this.delay,a);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(a){this.scheduleNotification(z.createNext(a))}_error(a){this.errored=!0,this.queue=[],this.destination.error(a),this.unsubscribe()}_complete(){this.scheduleNotification(z.createComplete()),this.unsubscribe()}}class tt{constructor(a,e){this.time=a,this.notification=e}}var nt=x(7604);function Fe(n,a=He){return e=>e.lift(new it(n,a))}class it{constructor(a,e){this.dueTime=a,this.scheduler=e}call(a,e){return e.subscribe(new rt(a,this.dueTime,this.scheduler))}}class rt extends Xe.L{constructor(a,e,i){super(a),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(a){this.clearDebounce(),this.lastValue=a,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(xt,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:a}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(a)}}clearDebounce(){const a=this.debouncedSubscription;null!==a&&(this.remove(a),a.unsubscribe(),this.debouncedSubscription=null)}}function xt(n){n.debouncedNext()}var ue=x(4850),st=x(7545),at=x(7224),Be=x(826),Ee=x(448);class je{constructor(a,e){this.observables=a,this.project=e}call(a,e){return e.subscribe(new ot(a,this.observables,this.project))}}class ot extends Be.L{constructor(a,e,i){super(a),this.observables=e,this.project=i,this.toRespond=[];const f=e.length;this.values=new Array(f);for(let m=0;m<f;m++)this.toRespond.push(m);for(let m=0;m<f;m++)this.add((0,Ee.D)(this,e[m],void 0,m))}notifyNext(a,e,i){this.values[i]=e;const f=this.toRespond;if(f.length>0){const m=f.indexOf(i);-1!==m&&f.splice(m,1)}}notifyComplete(){}_next(a){if(0===this.toRespond.length){const e=[a,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(a){let e;try{e=this.project.apply(this,a)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Pe="INITIAL_STATE",lt={docs:W,selectedStateChange:"",payloadEditorRefreshRequired:!0,selectedSelector:"",payload:"",demoHistory:[],demoState:Pe};function ct(n){return"```typescript\n"+n+"\n```"}function Ue(n){return(a,e)=>({content:a,selected:n?a===n:0===e})}const X=(0,H.NA)()({adapterStateChangeItems:n=>n.docs.demoAdapter.value?Object.keys(n.docs.demoAdapter.value).filter(a=>"selectors"!==a).map(Ue(n.selectedStateChange)):[],adapterSelectorItems:n=>{var a;return(null!==(a=n.docs.demoAdapter.value)&&void 0!==a&&a.selectors?Object.keys(n.docs.demoAdapter.value.selectors):[]).map(Ue(n.selectedSelector))},adapterStateChanges:n=>n.docs.demoAdapter.stateChanges,adapterSelectors:n=>n.docs.demoAdapter.selectors,userSelectedStateChangeName:n=>n.selectedStateChange,userSelectedSelectorName:n=>n.selectedSelector,demoHistory:n=>n.demoHistory,demoState:n=>n.demoState,initialDemoState:n=>n.docs.demoAdapter.initialState,userPayload:n=>n.payload,docs:n=>n.docs,creatorSourceCodeMd:n=>ct(n.docs.sourceCode),demoSourceCodeMd:n=>ct(n.docs.demoAdapter.sourceCode),parameters:n=>n.docs.parameters,payloadEditorRefreshRequired:n=>n.payloadEditorRefreshRequired},{firstStateChangeName:n=>{var a;return null===(a=n.adapterStateChangeItems[0])||void 0===a?void 0:a.content},firstSelectorName:n=>{var a;return null===(a=n.adapterSelectorItems[0])||void 0===a?void 0:a.content},selectedHistoryItem:n=>n.demoHistory.find(a=>a.selected)||null,lastHistoryItem:n=>n.demoHistory[n.demoHistory.length-1],demoStateOrInitial:n=>n.demoState===Pe?n.initialDemoState:n.demoState},{selectedStateChangeName:n=>n.userSelectedStateChangeName||n.firstStateChangeName,selectedSelectorName:n=>n.userSelectedSelectorName||n.firstSelectorName,selectedOrLastHistoryItem:n=>n.selectedHistoryItem||n.lastHistoryItem,selectedHistoryItemPayload:n=>{var a;return null===(a=n.selectedHistoryItem)||void 0===a?void 0:a.inputs.payload}},{selectedStateChange:n=>n.adapterStateChanges[n.selectedStateChangeName],selectedSelector:n=>n.adapterSelectors[n.selectedSelectorName]||{documentation:"Returns state"},diffState:({selectedOrLastHistoryItem:n,demoStateOrInitial:a})=>n?[n.inputs.state,n.state]:[null,a]},{diffStateAndSelectorName:n=>[n.diffState,n.selectedSelectorName],payload:n=>{var a;return n.selectedHistoryItemPayload||n.userPayload||(null===(a=n.selectedStateChange)||void 0===a?void 0:a.demoPayload)}},{demoStateAndPayload:n=>({state:n.demoStateOrInitial,payload:n.payload,initialState:n.initialDemoState,stateChangeName:n.selectedStateChangeName}),payloadCodeModel:n=>({language:"json",uri:"main.json",value:n.payload&&G(JSON.parse(n.payload))})}),ie=(0,H.Uh)()({receiveDocs:(n,a)=>Object.assign(Object.assign({},n),{docs:a}),selectStateChange:(n,a)=>{const e=X.selectedStateChangeName(n)!==a;return Object.assign(Object.assign({},n),{selectedStateChange:a,payloadEditorRefreshRequired:e,payload:e?"":n.payload})},resetEditorRefresh:n=>Object.assign(Object.assign({},n),{payloadEditorRefreshRequired:!1}),setPayload:(n,a)=>Object.assign(Object.assign({},n),{payload:a}),setDemoState:(n,a)=>Object.assign(Object.assign({},n),{demoHistory:[...n.demoHistory,{inputs:X.demoStateAndPayload(n),state:a,selected:!1}],demoState:a}),selectHistoryItem:(n,a)=>Object.assign(Object.assign({},n),{demoHistory:n.demoHistory.map((e,i)=>Object.assign(Object.assign({},e),{selected:i===a}))}),selectSelector:(n,a)=>Object.assign(Object.assign({},n),{selectedSelector:a}),selectors:Object.assign({},X)}),Nt=(0,H.Uh)()(Object.assign(Object.assign({},ie),{selectStateChange:(n,{item:a})=>ie.selectStateChange(n,a.content),selectStateChangeFromHistory:(n,a)=>{const e=n.demoHistory.find((i,f)=>f===+a.value);return ie.selectStateChange(n,(null==e?void 0:e.inputs.stateChangeName)||"")},selectHistoryItem:(n,a)=>ie.selectHistoryItem(n,+((null==a?void 0:a.value)||"-1")),selectSelector:(n,{item:a})=>ie.selectSelector(n,a.content)}));var E=x(9808),Se=x(4182),de=x(889);function ke(n,a){1&n&&t._UZ(0,"span")}const $e=["*"];function ut(n,a){1&n&&t._UZ(0,"div",2)}const dt=["input"];function ft(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",1,2),t.NdJ("change",function(f){t.CHM(e);const m=t.oxw();return t.KtG(m.onChange(f))}),t.qZA(),t.TgZ(3,"div",3),t.O4$(),t._UZ(4,"svg",4),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("value",e.value)("name",e.name)("title",e.label)("checked",e.selected)}}const ht=[[["ibm-list-header"]],"*"],Rt=function(n,a,e,i,f){return{"bx--structured-list--border":n,"bx--structured-list--selection":a,"bx--structured-list--condensed":e,"bx--structured-list-content--nowrap":i,"bx--skeleton":f}},Je=["ibm-list-header","*"];let Qe=(()=>{class n{constructor(){this.skeleton=!1,this.isHeaderColumn=!0,this.isBodyColumn=!0,this.nowrap=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ibm-list-column"]],hostVars:6,hostBindings:function(e,i){2&e&&t.ekj("bx--structured-list-th",i.isHeaderColumn)("bx--structured-list-td",i.isBodyColumn)("bx--structured-list-content--nowrap",i.nowrap)},inputs:{skeleton:"skeleton",nowrap:"nowrap"},ngContentSelectors:$e,decls:2,vars:1,consts:[[4,"ngIf"]],template:function(e,i){1&e&&(t.F$t(),t.YNc(0,ke,1,0,"span",0),t.Hsn(1)),2&e&&t.Q6J("ngIf",i.skeleton)},dependencies:[E.O5],encapsulation:2}),n})(),pt=(()=>{class n{constructor(){this.wrapper=!0,this.selection=!1,this._skeleton=!1}set skeleton(e){this._skeleton=e,this.updateChildren()}get skeleton(){return this._skeleton}ngAfterContentInit(){this.columns.forEach(e=>{e.isBodyColumn=!1,e.isHeaderColumn=!0}),this.updateChildren()}updateChildren(){this.columns&&this.columns.toArray().forEach(e=>e.skeleton=this.skeleton)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ibm-list-header"]],contentQueries:function(e,i,f){if(1&e&&t.Suo(f,Qe,4),2&e){let m;t.iGM(m=t.CRH())&&(i.columns=m)}},hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("bx--structured-list-thead",i.wrapper)},inputs:{skeleton:"skeleton"},ngContentSelectors:$e,decls:3,vars:1,consts:[[1,"bx--structured-list-row","bx--structured-list-row--header-row"],["class","bx--structured-list-th",4,"ngIf"],[1,"bx--structured-list-th"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.YNc(2,ut,1,0,"div",1),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",i.selection))},dependencies:[E.O5],encapsulation:2}),n})(),re=(()=>{class n{constructor(){this.selected=!1,this.change=new t.vpe,this.selection=!1,this.name="list",this.wrapper=!0,this.tabindex=this.selection?"0":null}ngAfterContentInit(){this.columns.forEach(e=>{e.isBodyColumn=!0,e.isHeaderColumn=!1})}onclick(){this.selection&&this.input.nativeElement.click()}onChange(e){this.change.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ibm-list-row"]],contentQueries:function(e,i,f){if(1&e&&t.Suo(f,Qe,4),2&e){let m;t.iGM(m=t.CRH())&&(i.columns=m)}},viewQuery:function(e,i){if(1&e&&t.Gf(dt,5),2&e){let f;t.iGM(f=t.CRH())&&(i.input=f.first)}},hostVars:6,hostBindings:function(e,i){1&e&&t.NdJ("click",function(){return i.onclick()}),2&e&&(t.uIk("tabindex",i.tabindex)("aria-label",i.label),t.ekj("bx--structured-list-row--selected",i.selected)("bx--structured-list-row",i.wrapper))},inputs:{selected:"selected",label:"label",value:"value"},outputs:{change:"change"},ngContentSelectors:$e,decls:2,vars:1,consts:[[4,"ngIf"],["tabindex","-1","type","radio",1,"bx--structured-list-input",3,"value","name","title","checked","change"],["input",""],[1,"bx--structured-list-td"],["ibmIcon","checkmark--filled","size","16",1,"bx--structured-list-svg"]],template:function(e,i){1&e&&(t.F$t(),t.Hsn(0),t.YNc(1,ft,5,4,"ng-container",0)),2&e&&(t.xp6(1),t.Q6J("ngIf",i.selection))},dependencies:[E.O5,de.ar],encapsulation:2}),n})(),Me=(()=>{class n{constructor(){this.selection=!1,this.border=!1,this.condensed=!1,this.nowrap=!1,this.name="structured-list-"+n.listCount++,this.selected=new t.vpe,this._skeleton=!1,this.onChange=e=>{},this.onTouched=()=>{}}set skeleton(e){this._skeleton=e,this.updateChildren()}get skeleton(){return this._skeleton}ngAfterContentInit(){const e=i=>{i.selection=this.selection};this.headers.forEach(e),this.rows.forEach(i=>{e(i),i.name=this.name,i.tabindex=this.selection?"0":"null",i.change.subscribe(()=>{this.selected.emit({value:i.value,selected:i.selected,name:this.name}),this.onChange(i.value)})}),this.updateChildren()}writeValue(e){!this.rows||this.rows.forEach(i=>{i.selected=i.value===e})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}updateChildren(){this.headers&&this.headers.toArray().forEach(e=>e.skeleton=this.skeleton)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ibm-structured-list"]],contentQueries:function(e,i,f){if(1&e&&(t.Suo(f,re,4),t.Suo(f,pt,4)),2&e){let m;t.iGM(m=t.CRH())&&(i.rows=m),t.iGM(m=t.CRH())&&(i.headers=m)}},inputs:{selection:"selection",border:"border",condensed:"condensed",nowrap:"nowrap",name:"name",skeleton:"skeleton"},outputs:{selected:"selected"},features:[t._Bn([{provide:Se.JU,useExisting:n,multi:!0}])],ngContentSelectors:Je,decls:4,vars:7,consts:[[1,"bx--structured-list",3,"ngClass"],[1,"bx--structured-list-tbody"]],template:function(e,i){1&e&&(t.F$t(ht),t.TgZ(0,"section",0),t.Hsn(1),t.TgZ(2,"div",1),t.Hsn(3,1),t.qZA()()),2&e&&t.Q6J("ngClass",t.qbA(1,Rt,i.border,i.selection,i.condensed,i.nowrap,i.skeleton))},dependencies:[E.mk],encapsulation:2}),n.listCount=0,n})(),Ht=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[E.ez,de.QX]}),n})();var fe=x(6410),Ze=x(3753),Ft=x(4715),Bt=x(2916),xe=x(2198),_e=x(5434);let Ie=(()=>{class n{constructor(){this.viewContainerRef=null,this.viewContainerMap=new Map}registerViewContainerRef(e,i){i?this.viewContainerMap.set(i,e):this.viewContainerRef=e}createComponent(e,i,f){return f?this.viewContainerMap.has(f)?this.viewContainerMap.get(f).createComponent(e,this.viewContainerMap.size,i):void console.error(`No view container with id ${f} found`):this.viewContainerRef?this.viewContainerRef.createComponent(e,this.viewContainerRef.length,i):void console.error("No view container defined! Likely due to a missing `ibm-placeholder`")}destroyComponent(e){e.destroy()}hasComponentRef(e,i){return i?!(this.viewContainerMap.get(i).indexOf(e.hostView)<0):!(this.viewContainerRef.indexOf(e.hostView)<0)}hasPlaceholderRef(e){return e?this.viewContainerMap.has(e):!!this.viewContainerRef}appendElement(e,i){return i?this.viewContainerMap.get(i).element.nativeElement.appendChild(e):this.viewContainerRef.element.nativeElement.appendChild(e)}removeElement(e,i){return i?this.viewContainerMap.get(i).element.nativeElement.removeChild(e):this.viewContainerRef.element.nativeElement.removeChild(e)}hasElement(e,i){return i?this.viewContainerMap.get(i).element.nativeElement.contains(e):this.viewContainerRef.element.nativeElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const mt={provide:Ie,deps:[[new t.FiY,new t.tp0,Ie]],useFactory:function jt(n){return n||new Ie}};let Pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[mt],imports:[E.ez]}),n})();var ee=x(3102);const Ut=["dropdownButton"],Ve=["dropdownMenu"];function vt(n,a){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.label)}}function $t(n,a){}function Jt(n,a){if(1&n&&t.YNc(0,$t,0,0,"ng-template",16),2&n){const e=t.oxw(2);t.Q6J("ngTemplateOutlet",e.label)}}const he=function(n){return{"bx--label--disabled":n}};function pe(n,a){if(1&n&&(t.TgZ(0,"label",15),t.YNc(1,vt,2,1,"ng-container",6),t.YNc(2,Jt,1,1,null,6),t.qZA()),2&n){const e=t.oxw();t.Q6J("for",e.id)("ngClass",t.VKq(4,he,e.disabled)),t.xp6(1),t.Q6J("ngIf",!e.isTemplate(e.label)),t.xp6(1),t.Q6J("ngIf",e.isTemplate(e.label))}}function bt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",17),t.NdJ("click",function(){t.CHM(e);const f=t.oxw();return t.KtG(f.clearSelected())})("keydown.enter",function(){t.CHM(e);const f=t.oxw();return t.KtG(f.clearSelected())}),t._uU(1),t.O4$(),t.TgZ(2,"svg",18),t._UZ(3,"path",19),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("title",e.clearText),t.xp6(1),t.hij(" ",e.getSelectedCount()," ")}}function Ye(n,a){if(1&n&&(t.TgZ(0,"span",20),t._uU(1),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,e.getDisplayStringValue()))}}function _t(n,a){}function Qt(n,a){if(1&n&&t.YNc(0,_t,0,0,"ng-template",21),2&n){const e=t.oxw();t.Q6J("ngTemplateOutletContext",e.getRenderTemplateContext())("ngTemplateOutlet",e.displayValue)}}function yt(n,a){1&n&&(t.O4$(),t._UZ(0,"svg",22))}function Zt(n,a){1&n&&(t.O4$(),t._UZ(0,"svg",23))}const Vt=function(n){return{"bx--list-box__menu-icon--open":n}};function Yt(n,a){if(1&n&&(t.O4$(),t._UZ(0,"svg",24)),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(2,Vt,!e.menuIsClosed)),t.uIk("aria-label",e.menuButtonLabel)}}function P(n,a){1&n&&t.Hsn(0,0,["*ngIf","!menuIsClosed"])}function Gt(n,a){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.helperText)}}function zt(n,a){}function Wt(n,a){if(1&n&&t.YNc(0,zt,0,0,"ng-template",16),2&n){const e=t.oxw(2);t.Q6J("ngTemplateOutlet",e.helperText)}}const qt=function(n){return{"bx--form__helper-text--disabled":n}};function Kt(n,a){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,Gt,2,1,"ng-container",6),t.YNc(2,Wt,1,1,null,6),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(3,qt,e.disabled)),t.xp6(1),t.Q6J("ngIf",!e.isTemplate(e.helperText)),t.xp6(1),t.Q6J("ngIf",e.isTemplate(e.helperText))}}function b(n,a){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.invalidText)}}function r(n,a){}function l(n,a){if(1&n&&t.YNc(0,r,0,0,"ng-template",16),2&n){const e=t.oxw(2);t.Q6J("ngTemplateOutlet",e.invalidText)}}function o(n,a){if(1&n&&(t.TgZ(0,"div",26),t.YNc(1,b,2,1,"ng-container",6),t.YNc(2,l,1,1,null,6),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isTemplate(e.invalidText)),t.xp6(1),t.Q6J("ngIf",e.isTemplate(e.invalidText))}}function u(n,a){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.warnText)}}function s(n,a){}function c(n,a){if(1&n&&t.YNc(0,s,0,0,"ng-template",16),2&n){const e=t.oxw(2);t.Q6J("ngTemplateOutlet",e.warnText)}}function d(n,a){if(1&n&&(t.TgZ(0,"div",26),t.YNc(1,u,2,1,"ng-container",6),t.YNc(2,c,1,1,null,6),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isTemplate(e.warnText)),t.xp6(1),t.Q6J("ngIf",e.isTemplate(e.warnText))}}const h=function(n,a,e,i,f,m,T,I,R,O,Q,ae,J){return{"bx--dropdown":n,"bx--multiselect":a,"bx--multi-select--selected":e,"bx--dropdown--light":i,"bx--list-box--light":f,"bx--list-box--inline":m,"bx--skeleton":T,"bx--dropdown--disabled bx--list-box--disabled":I,"bx--dropdown--invalid":R,"bx--dropdown--warning bx--list-box--warning":O,"bx--dropdown--xl bx--list-box--xl":Q,"bx--dropdown--sm bx--list-box--sm":ae,"bx--list-box--expanded":J}},g=function(n){return{a:n}},p=function(n){return{"bx--list-box--up":n}},v=["*"],_=["list"],y=["listItem"];function w(n,a){if(1&n&&(t.TgZ(0,"div",9)(1,"label",10),t._UZ(2,"input",11)(3,"span",12),t.TgZ(4,"span",13),t._uU(5),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.uIk("data-contained-checkbox-state",e.selected),t.xp6(1),t.Q6J("checked",e.selected)("disabled",e.disabled),t.xp6(3),t.Oqu(e.content)}}function C(n,a){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.content)}}function S(n,a){1&n&&(t.O4$(),t._UZ(0,"svg",14))}function k(n,a){}const D=function(n){return{item:n}};function A(n,a){if(1&n&&t.YNc(0,k,0,0,"ng-template",15),2&n){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("ngTemplateOutletContext",t.VKq(2,D,e))("ngTemplateOutlet",i.listTpl)}}const L=function(n,a,e){return{"bx--list-box__menu-item--active":n,"bx--list-box__menu-item--highlighted":a,disabled:e}};function F(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"li",3),t.NdJ("click",function(f){const T=t.CHM(e).$implicit,I=t.oxw();return t.KtG(I.doClick(f,T))}),t.TgZ(1,"div",4,5),t.YNc(3,w,6,4,"div",6),t.YNc(4,C,2,1,"ng-container",7),t.YNc(5,S,1,0,"svg",8),t.YNc(6,A,1,4,null,7),t.qZA()()}if(2&n){const e=a.$implicit,i=a.index,f=t.oxw();t.Q6J("id",f.getItemId(i))("ngClass",t.kEZ(8,L,e.selected,f.highlightedItem===f.getItemId(i),e.disabled)),t.uIk("aria-selected",e.selected)("title",f.showTitles?e.content:null),t.xp6(3),t.Q6J("ngIf",!f.listTpl&&"multi"===f.type),t.xp6(1),t.Q6J("ngIf",!f.listTpl&&"single"===f.type),t.xp6(1),t.Q6J("ngIf",!f.listTpl&&"single"===f.type),t.xp6(1),t.Q6J("ngIf",f.listTpl)}}let M=(()=>{class n{constructor(){this.type="single",this.size="md"}set items(e){}get items(){}getNextItem(){}hasNextElement(){}getNextElement(){}getPrevItem(){}hasPrevElement(){}getPrevElement(){}getSelected(){}getCurrentItem(){}getCurrentElement(){}getListItems(){}propagateSelected(e){}filterBy(e){}initFocus(){}onItemsReady(e){}reorderSelected(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["","ibmAbstractDropdownView",""]],inputs:{items:"items"},outputs:{select:"select",blurIntent:"blurIntent"}}),n})();const N={top:0,left:0};let B=(()=>{class n{constructor(e,i){this.placeholderService=e,this.animationFrameService=i,this.animationFrameSubscription=new Te.w,this._offset=N}set offset(e){this._offset=Object.assign({},N,e)}get offset(){return this._offset}appendToBody(e,i,f){i.style.display="block";const m=document.createElement("div");return m.className=`dropdown ${f}`,m.style.width=e.offsetWidth+"px",m.style.position="absolute",m.appendChild(i),this.placeholderService.hasPlaceholderRef()?this.placeholderService.appendElement(m):document.body.appendChild(m),this.menuInstance=m,this.animationFrameSubscription=this.animationFrameService.tick.subscribe(()=>{this.positionDropdown(e,m)}),this.positionDropdown(e,m),m}appendToDropdown(e){if(!this.menuInstance)return;const i=this.menuInstance,f=i.firstElementChild;return this.menuInstance=null,f.style.display="none",e.appendChild(f),this.animationFrameSubscription.unsubscribe(),this.placeholderService.hasPlaceholderRef()&&this.placeholderService.hasElement(i)?this.placeholderService.removeElement(i):document.body.contains(i)&&document.body.removeChild(i),i}updatePosition(e){this.positionDropdown(e,this.menuInstance)}ngOnDestroy(){this.animationFrameSubscription.unsubscribe()}positionDropdown(e,i){if(!i)return;let f=0;const m=i.querySelector(".bx--list-box__menu");m&&(e.getBoundingClientRect().left!==m.getBoundingClientRect().left?e.getBoundingClientRect().left-m.getBoundingClientRect().left+m.getBoundingClientRect().right>(window.innerWidth||document.documentElement.clientWidth)&&(f=e.offsetWidth-m.offsetWidth):m.getBoundingClientRect().right>(window.innerWidth||document.documentElement.clientWidth)&&(f=e.offsetWidth-m.offsetWidth));const T=(0,ee._K)("position",["relative","fixed","absolute"],i.parentElement),I=T?-1*T.getBoundingClientRect().top:this.offset.top,R=T?-1*T.getBoundingClientRect().left:this.offset.left+f;let O=fe.FK.findAbsolute(e,i,"bottom");O=fe.FK.addOffset(O,I,R),fe.FK.setElement(i,O)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Ie),t.LFG(ee.NV))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),j=(()=>{class n{constructor(e,i,f,m,T){this.elementRef=e,this.i18n=i,this.dropdownService=f,this.appRef=m,this.elementService=T,this.id="dropdown-"+n.dropdownCount++,this.placeholder="",this.displayValue="",this.clearText=this.i18n.get().DROPDOWN.CLEAR,this.size="md",this.type="single",this.theme="dark",this.disabled=!1,this.skeleton=!1,this.inline=!1,this.disableArrowKeys=!1,this.invalid=!1,this.warn=!1,this.appendInline=null,this.selectionFeedback="top-after-reopen",this.menuButtonLabel=this.i18n.get().DROPDOWN.OPEN,this.selectedLabel=this.i18n.get().DROPDOWN.SELECTED,this.selected=new t.vpe,this.onClose=new t.vpe,this.close=new t.vpe,this.hostClass=!0,this.menuIsClosed=!0,this._dropUp=!1,this.noop=this._noop.bind(this),this.outsideClick=this._outsideClick.bind(this),this.outsideKey=this._outsideKey.bind(this),this.keyboardNav=this._keyboardNav.bind(this),this.visibilitySubscription=new Te.w,this.onTouchedCallback=this._noop,this._writtenValue=[],this.propagateChange=I=>{}}set value(e){console.warn("Dropdown `value` property has been deprecated. Use `itemValueKey` instead"),this.itemValueKey=e}get value(){return this.itemValueKey}get writtenValue(){return this._writtenValue}set writtenValue(e){e&&0===e.length&&this.clearSelected(),this._writtenValue=e}ngOnInit(){this.view&&(this.view.type=this.type)}ngAfterContentInit(){if(!this.view)return;(this.writtenValue&&this.writtenValue.length||"number"==typeof this.writtenValue)&&this.writeValue(this.writtenValue),this.view.type=this.type,this.view.size=this.size;const e=i=>i&&i.isUpdate;this.view.select.subscribe(i=>{if("single"===this.type&&!e(i)&&(this.closeMenu(),this.propagateChange(i.item&&i.item.selected?this.itemValueKey?i.item[this.itemValueKey]:i.item:null)),"multi"===this.type&&!e(i))if(this.itemValueKey&&this.view.getSelected()){const f=this.view.getSelected().map(m=>m[this.itemValueKey]);this.propagateChange(f)}else this.propagateChange(this.view.getSelected());e(i)||(this.checkForReorder(),this.selected.emit(i)),this.appRef.tick()})}ngAfterViewInit(){null===this.appendInline&&(0,ee.OQ)(this.elementRef.nativeElement)?this.appendInline=!1:null===this.appendInline&&(this.appendInline=!0),this.checkForReorder()}ngOnDestroy(){this.appendInline||this._appendToDropdown()}writeValue(e){this.writtenValue=e,this.view.onItemsReady(()=>{if(e)if("single"===this.type)if(this.itemValueKey){const i=Object.assign({},this.view.getListItems().find(f=>f[this.itemValueKey]===e));i.selected=!0,this.view.propagateSelected([i])}else this.view.propagateSelected([e]);else if(this.itemValueKey){let i=[];for(const f of e)for(const m of this.view.getListItems())m[this.itemValueKey]===f&&i.push(Object.assign({},m,{selected:!0}));this.view.propagateSelected(i)}else this.view.propagateSelected(e);else this.view.propagateSelected([e]);this.checkForReorder()})}onBlur(){this.onTouchedCallback()}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}onKeyDown(e){if(("Escape"===e.key||"Esc"===e.key)&&!this.menuIsClosed&&e.stopImmediatePropagation(),"Escape"===e.key||"Esc"===e.key)e.preventDefault(),this.closeMenu(),this.dropdownButton.nativeElement.focus();else if(this.menuIsClosed&&(" "===e.key||"ArrowDown"===e.key||"ArrowUp"===e.key||"Spacebar"===e.key||"Down"===e.key||"Up"===e.key)){if(this.disableArrowKeys&&("ArrowDown"===e.key||"ArrowUp"===e.key||"Down"===e.key||"Up"===e.key))return;e.preventDefault(),this.openMenu()}!this.menuIsClosed&&"Tab"===e.key&&this.dropdownMenu.nativeElement.contains(e.target)&&this.closeMenu(),!this.menuIsClosed&&"Tab"===e.key&&e.shiftKey&&this.closeMenu(),"multi"!==this.type&&this.menuIsClosed&&this.closedDropdownNavigation(e)}closedDropdownNavigation(e){if("ArrowDown"===e.key||"Down"===e.key){e.preventDefault(),this.view.getCurrentItem().selected=!1;let i=this.view.getNextItem();i&&(i.selected=!0)}else if("ArrowUp"===e.key||"Up"===e.key){e.preventDefault(),this.view.getCurrentItem().selected=!1;let i=this.view.getPrevItem();i&&(i.selected=!0)}}getDisplayStringValue(){if(!this.view)return;let e=this.view.getSelected();return!e.length||this.displayValue&&this.isRenderString()?e.length&&this.isRenderString()?(0,ve.of)(this.displayValue):(0,ve.of)(this.placeholder):(0,ve.of)("multi"===this.type?this.placeholder:e[0].content)}isRenderString(){return"string"==typeof this.displayValue}getRenderTemplateContext(){if(!this.view)return;let e=this.view.getSelected();return"multi"===this.type?{items:e}:e&&e.length>0?{item:e[0]}:{}}getSelectedCount(){if(this.view.getSelected())return this.view.getSelected().length}clearSelected(){if(!this.disabled&&0!==this.getSelectedCount()){for(const e of this.view.getListItems())e.selected=!1;this.selected.emit([]),this.propagateChange([])}}valueSelected(){return!!this.view.getSelected()}_noop(){}_outsideClick(e){!this.elementRef.nativeElement.contains(e.target)&&!this.dropdownMenu.nativeElement.contains(e.target)&&this.closeMenu()}_outsideKey(e){!this.menuIsClosed&&"Tab"===e.key&&this.dropdownMenu.nativeElement.contains(e.target)&&this.closeMenu()}_keyboardNav(e){("Escape"===e.key||"Esc"===e.key)&&!this.menuIsClosed&&e.stopImmediatePropagation(),"Escape"===e.key||"Esc"===e.key?(e.preventDefault(),this.closeMenu(),this.dropdownButton.nativeElement.focus()):!this.menuIsClosed&&"Tab"===e.key&&(this.dropdownButton.nativeElement.focus(),this.dropdownButton.nativeElement.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:"Tab"})),this.closeMenu())}_appendToDropdown(){this.dropdownService.appendToDropdown(this.elementRef.nativeElement),this.dropdownMenu.nativeElement.removeEventListener("keydown",this.keyboardNav,!0)}_appendToBody(){this.dropdownService.appendToBody(this.dropdownButton.nativeElement,this.dropdownMenu.nativeElement,`${this.elementRef.nativeElement.className}${"light"===this.theme?" bx--list-box--light":""}${this.menuIsClosed?"":" bx--list-box--expanded"}`),this.dropdownMenu.nativeElement.addEventListener("keydown",this.keyboardNav,!0)}_shouldDropUp(){const e=this.dropdownMenu&&this.dropdownMenu.nativeElement.querySelector(".bx--list-box__menu"),i=e&&e.getBoundingClientRect();return!(!e||!i)&&(0,ee.O3)(e).reduce((m,T)=>{const I=T.getBoundingClientRect();return m||!(i.bottom<=I.bottom)},!1)}openMenu(){0!==this.view.getListItems().length&&(this._dropUp=!1,this.menuIsClosed=!1,this.appendInline||(this.visibilitySubscription=this.elementService.visibility(this.dropdownButton.nativeElement,this.elementRef.nativeElement).subscribe(f=>{f.visible||this.closeMenu()}),this._appendToBody()),setTimeout(()=>{null==this.dropUp&&(this._dropUp=this._shouldDropUp())},0),document.body.firstElementChild.addEventListener("click",this.noop,!0),document.body.firstElementChild.addEventListener("keydown",this.noop,!0),document.addEventListener("click",this.outsideClick,!0),document.addEventListener("keydown",this.outsideKey,!0),setTimeout(()=>this.view.initFocus(),0))}closeMenu(){this.menuIsClosed||(this.menuIsClosed=!0,this.checkForReorder(),this.onClose.emit(),this.close.emit(),this.dropdownButton.nativeElement.focus(),this.view.disableScroll&&this.view.disableScroll(),this.appendInline||(this.visibilitySubscription.unsubscribe(),this._appendToDropdown()),document.body.firstElementChild.removeEventListener("click",this.noop,!0),document.body.firstElementChild.removeEventListener("keydown",this.noop,!0),document.removeEventListener("click",this.outsideClick,!0),document.removeEventListener("keydown",this.outsideKey,!0))}toggleMenu(){this.menuIsClosed?this.openMenu():this.closeMenu()}isTemplate(e){return e instanceof t.Rgc}checkForReorder(){"multi"===this.type&&(this.menuIsClosed&&"top-after-reopen"===this.selectionFeedback||"top"===this.selectionFeedback)&&this.view.reorderSelected()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(_e.oc),t.Y36(B),t.Y36(t.z2F),t.Y36(ee.d2))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ibm-dropdown"]],contentQueries:function(e,i,f){if(1&e&&t.Suo(f,M,7),2&e){let m;t.iGM(m=t.CRH())&&(i.view=m.first)}},viewQuery:function(e,i){if(1&e&&(t.Gf(Ut,7),t.Gf(Ve,7)),2&e){let f;t.iGM(f=t.CRH())&&(i.dropdownButton=f.first),t.iGM(f=t.CRH())&&(i.dropdownMenu=f.first)}},hostVars:2,hostBindings:function(e,i){1&e&&t.NdJ("keydown",function(m){return i.onKeyDown(m)}),2&e&&t.ekj("bx--dropdown__wrapper",i.hostClass)},inputs:{id:"id",placeholder:"placeholder",displayValue:"displayValue",clearText:"clearText",size:"size",type:"type",theme:"theme",disabled:"disabled",skeleton:"skeleton",inline:"inline",disableArrowKeys:"disableArrowKeys",invalid:"invalid",warn:"warn",appendInline:"appendInline",selectionFeedback:"selectionFeedback",menuButtonLabel:"menuButtonLabel",selectedLabel:"selectedLabel",value:"value",itemValueKey:"itemValueKey",label:"label",helperText:"helperText",invalidText:"invalidText",warnText:"warnText",scrollableContainer:"scrollableContainer",dropUp:"dropUp"},outputs:{selected:"selected",onClose:"onClose",close:"close"},features:[t._Bn([{provide:Se.JU,useExisting:n,multi:!0}])],ngContentSelectors:v,decls:17,vars:36,consts:[["class","bx--label",3,"for","ngClass",4,"ngIf"],[1,"bx--list-box",3,"ngClass"],["type","button","aria-haspopup","listbox",1,"bx--list-box__field",3,"id","ngClass","click","blur"],["dropdownButton",""],["class","bx--list-box__selection bx--tag--filter bx--list-box__selection--multi","tabindex","0",3,"title","click","keydown.enter",4,"ngIf"],["class","bx--list-box__label",4,"ngIf"],[4,"ngIf"],["class","bx--dropdown__invalid-icon","ibmIcon","warning--filled","size","16",4,"ngIf"],["ibmIcon","warning--alt--filled","size","16","class","bx--list-box__invalid-icon bx--list-box__invalid-icon--warning",4,"ngIf"],[1,"bx--list-box__menu-icon"],["ibmIcon","chevron--down","size","16",3,"ngClass",4,"ngIf"],[3,"ngClass"],["dropdownMenu",""],["class","bx--form__helper-text",3,"ngClass",4,"ngIf"],["class","bx--form-requirement",4,"ngIf"],[1,"bx--label",3,"for","ngClass"],[3,"ngTemplateOutlet"],["tabindex","0",1,"bx--list-box__selection","bx--tag--filter","bx--list-box__selection--multi",3,"title","click","keydown.enter"],["focusable","false","preserveAspectRatio","xMidYMid meet","role","img","xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 16 16","aria-hidden","true",2,"will-change","transform"],["d","M12 4.7l-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z"],[1,"bx--list-box__label"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],["ibmIcon","warning--filled","size","16",1,"bx--dropdown__invalid-icon"],["ibmIcon","warning--alt--filled","size","16",1,"bx--list-box__invalid-icon","bx--list-box__invalid-icon--warning"],["ibmIcon","chevron--down","size","16",3,"ngClass"],[1,"bx--form__helper-text",3,"ngClass"],[1,"bx--form-requirement"]],template:function(e,i){1&e&&(t.F$t(),t.YNc(0,pe,3,6,"label",0),t.TgZ(1,"div",1)(2,"button",2,3),t.NdJ("click",function(m){return i.disabled?m.stopPropagation():i.toggleMenu()})("blur",function(){return i.onBlur()}),t.YNc(4,bt,4,2,"div",4),t.YNc(5,Ye,3,3,"span",5),t.YNc(6,Qt,1,2,null,6),t.YNc(7,yt,1,0,"svg",7),t.YNc(8,Zt,1,0,"svg",8),t.TgZ(9,"span",9),t.YNc(10,Yt,1,4,"svg",10),t.qZA()(),t.TgZ(11,"div",11,12),t.YNc(13,P,1,0,"ng-content",6),t.qZA()(),t.YNc(14,Kt,3,5,"div",13),t.YNc(15,o,3,2,"div",14),t.YNc(16,d,3,2,"div",14)),2&e&&(t.Q6J("ngIf",i.label),t.xp6(1),t.Q6J("ngClass",t.rFY(18,h,["multi"!==i.type,"multi"===i.type,"multi"===i.type&&i.getSelectedCount()>0,"light"===i.theme,"light"===i.theme,i.inline,i.skeleton,i.disabled,i.invalid,i.warn,"xl"===i.size,"sm"===i.size,!i.menuIsClosed])),t.xp6(1),t.Q6J("id",i.id)("ngClass",t.VKq(32,g,!i.menuIsClosed)),t.uIk("aria-expanded",!i.menuIsClosed)("aria-disabled",i.disabled)("disabled",!!i.disabled||null),t.xp6(2),t.Q6J("ngIf","multi"===i.type&&i.getSelectedCount()>0),t.xp6(1),t.Q6J("ngIf",i.isRenderString()),t.xp6(1),t.Q6J("ngIf",!i.isRenderString()),t.xp6(1),t.Q6J("ngIf",!i.warn&&i.invalid),t.xp6(1),t.Q6J("ngIf",!i.invalid&&i.warn),t.xp6(2),t.Q6J("ngIf",!i.skeleton),t.xp6(1),t.Q6J("ngClass",t.VKq(34,p,null!=i.dropUp?i.dropUp:i._dropUp)),t.xp6(2),t.Q6J("ngIf",!i.menuIsClosed),t.xp6(1),t.Q6J("ngIf",i.helperText&&!i.invalid&&!i.warn),t.xp6(1),t.Q6J("ngIf",!i.warn&&i.invalid),t.xp6(1),t.Q6J("ngIf",!i.invalid&&i.warn))},dependencies:[E.mk,E.O5,E.tP,de.ar,E.Ov],encapsulation:2}),n.dropdownCount=0,n})(),$=(()=>{class n{constructor(e,i){this.elementRef=e,this.i18n=i,this.ariaLabel=this.i18n.get().DROPDOWN_LIST.LABEL,this.listTpl=null,this.select=new t.vpe,this.scroll=new t.vpe,this.blurIntent=new t.vpe,this.type="single",this.showTitles=!0,this.size="md",this.listId="listbox-"+n.listCount++,this.highlightedItem=null,this.displayItems=[],this.index=-1,this._items=[]}set items(e){(0,Ft.b)(e)?(this._itemsSubscription&&this._itemsSubscription.unsubscribe(),this._itemsReady=new Bt.y(i=>{this._itemsSubscription=e.subscribe(f=>{this.updateList(f),i.next(!0),i.complete()})}),this.onItemsReady(null)):this.updateList(e),this._originalItems=e}get items(){return this._originalItems}ngAfterViewInit(){this.index=this.getListItems().findIndex(e=>e.selected),this.setupFocusObservable(),setTimeout(()=>{this.doEmitSelect(!0)})}ngOnDestroy(){this.focusJump&&this.focusJump.unsubscribe(),this._itemsSubscription&&this._itemsSubscription.unsubscribe()}doEmitSelect(e=!0){if("single"===this.type)this.select.emit({item:this._items.find(i=>i.selected),isUpdate:e});else{const i=this.getSelected()||[];i.isUpdate=e,this.select.emit(i)}}getItemId(e){return`${this.listId}-${e}`}updateList(e){this._items=e.map(i=>Object.assign({},i)),this.displayItems=this._items,this.updateIndex(),this.setupFocusObservable(),setTimeout(()=>{this.getSelected()===[]&&this.doEmitSelect()})}filterBy(e=""){this.displayItems=e?this.getListItems().filter(i=>i.content.toLowerCase().includes(e.toLowerCase())):this.getListItems(),this.updateIndex()}setupFocusObservable(){if(!this.list)return;this.focusJump&&this.focusJump.unsubscribe();let e=Array.from(this.list.nativeElement.querySelectorAll("li"));this.focusJump=function Z(n,a){return(0,Ze.R)(n,"keydown").pipe(Fe(150),(0,ue.U)(e=>{let i=a.find(f=>f.textContent.trim().toLowerCase().startsWith(e.key));if(i)return i}),(0,xe.h)(e=>!!e))}(this.list.nativeElement,e).subscribe(i=>{i.focus()})}getNextItem(){return this.index<this.displayItems.length-1&&this.index++,this.displayItems[this.index]}hasNextElement(){return this.index<this.displayItems.length-1&&(this.index!==this.displayItems.length-2||!this.displayItems[this.index+1].disabled)}getNextElement(){if(this.index<this.displayItems.length-1&&this.index++,this.displayItems[this.index].disabled)return this.getNextElement();let i=this.listElementList?this.listElementList.toArray():[];return i[this.index]&&i[this.index].nativeElement?i[this.index].nativeElement:null}getPrevItem(){return this.index>0&&this.index--,this.displayItems[this.index]}hasPrevElement(){return this.index>0&&(1!==this.index||!this.displayItems[0].disabled)}getPrevElement(){if(this.index>0&&this.index--,this.displayItems[this.index].disabled)return this.getPrevElement();let i=this.listElementList?this.listElementList.toArray():[];return i[this.index]&&i[this.index].nativeElement?i[this.index].nativeElement:null}getCurrentItem(){return this.index<0?this.displayItems[0]:this.displayItems[this.index]}getCurrentElement(){return this.index<0?this.listElementList.first.nativeElement:this.listElementList.toArray()[this.index].nativeElement}getListItems(){return this._items}getSelected(){let e=this.getListItems().filter(i=>i.selected);return 0===e.length?[]:e}propagateSelected(e){Array.isArray(e)||console.error(`${this.constructor.name}.propagateSelected expects an Array<ListItem>, got ${JSON.stringify(e)}`),this.onItemsReady(()=>{for(let i of this.getListItems()){let f=Object.assign({},i);delete f.selected,f=JSON.stringify(f);for(let m of e){let T=Object.assign({},m);if(delete T.selected,T=JSON.stringify(T),f.includes(T)){i.selected=m.selected;break}i.selected=!1}}})}initFocus(){this.index<0&&this.updateIndex(),this.list.nativeElement.focus(),setTimeout(()=>{this.highlightedItem=this.getItemId(this.index)})}updateIndex(){const e=this.getSelected();e.length?this.index=this.displayItems.indexOf(e[0]):this.hasNextElement()&&this.getNextElement()}doKeyDown(e,i){"Enter"===e.key||" "===e.key||"Spacebar"===e.key?(this.listElementList.some(f=>f.nativeElement===e.target)&&e.preventDefault(),"Enter"===e.key&&this.doClick(e,i)):("ArrowDown"===e.key||"ArrowUp"===e.key||"Down"===e.key||"Up"===e.key)&&(e.preventDefault(),"ArrowDown"===e.key||"Down"===e.key?this.hasNextElement()?this.getNextElement():this.blurIntent.emit("bottom"):("ArrowUp"===e.key||"Up"===e.key)&&(this.hasPrevElement()?this.getPrevElement():this.blurIntent.emit("top")))}navigateList(e){"Enter"===e.key||" "===e.key||"Spacebar"===e.key?(this.listElementList.some(i=>i.nativeElement===e.target)&&e.preventDefault(),"Enter"===e.key&&this.doClick(e,this.getCurrentItem())):("ArrowDown"===e.key||"ArrowUp"===e.key||"Down"===e.key||"Up"===e.key)&&(e.preventDefault(),"ArrowDown"===e.key||"Down"===e.key?this.hasNextElement()?this.getNextElement():this.blurIntent.emit("bottom"):("ArrowUp"===e.key||"Up"===e.key)&&(this.hasPrevElement()?this.getPrevElement():this.blurIntent.emit("top")),setTimeout(()=>{this.highlightedItem=this.getItemId(this.index)}))}doClick(e,i){if(e.preventDefault(),!i.disabled){if(this.list.nativeElement.focus(),"single"===this.type){i.selected=!0;for(let f of this.getListItems())i!==f&&(f.selected=!1)}else i.selected=!i.selected;this.index=this.displayItems.indexOf(i),this.highlightedItem=this.getItemId(this.index),this.doEmitSelect(!1)}}onItemFocus(e){const i=this.listElementList.toArray()[e].nativeElement;i.classList.add("bx--list-box__menu-item--highlighted"),i.tabIndex=0}onItemBlur(e){const i=this.listElementList.toArray()[e].nativeElement;i.classList.remove("bx--list-box__menu-item--highlighted"),i.tabIndex=-1}emitScroll(e){this.scroll.emit({atTop:0===e.srcElement.scrollTop,atBottom:e.srcElement.scrollHeight-e.srcElement.scrollTop===e.srcElement.clientHeight,event:e})}onItemsReady(e){(this._itemsReady||(0,ve.of)(!0)).pipe((0,at.P)()).subscribe(e)}reorderSelected(e=!0){this.displayItems=[...this.getSelected(),...this.getListItems().filter(i=>!i.selected)],e&&setTimeout(()=>{this.updateIndex(),this.highlightedItem=this.getItemId(this.index)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(_e.oc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ibm-dropdown-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(_,7),t.Gf(y,5)),2&e){let f;t.iGM(f=t.CRH())&&(i.list=f.first),t.iGM(f=t.CRH())&&(i.listElementList=f)}},inputs:{ariaLabel:"ariaLabel",listTpl:"listTpl",type:"type",showTitles:"showTitles",items:"items"},outputs:{select:"select",scroll:"scroll",blurIntent:"blurIntent"},features:[t._Bn([{provide:M,useExisting:n}])],decls:3,vars:3,consts:[["role","listbox","tabindex","-1",1,"bx--list-box__menu","bx--multi-select",3,"scroll","keydown"],["list",""],["role","option","class","bx--list-box__menu-item",3,"id","ngClass","click",4,"ngFor","ngForOf"],["role","option",1,"bx--list-box__menu-item",3,"id","ngClass","click"],["tabindex","-1",1,"bx--list-box__menu-item__option"],["listItem",""],["class","bx--form-item bx--checkbox-wrapper",4,"ngIf"],[4,"ngIf"],["ibmIcon","checkmark","size","16","class","bx--list-box__menu-item__selected-icon",4,"ngIf"],[1,"bx--form-item","bx--checkbox-wrapper"],[1,"bx--checkbox-label"],["type","checkbox","tabindex","-1",1,"bx--checkbox",3,"checked","disabled"],[1,"bx--checkbox-appearance"],[1,"bx--checkbox-label-text"],["ibmIcon","checkmark","size","16",1,"bx--list-box__menu-item__selected-icon"],[3,"ngTemplateOutletContext","ngTemplateOutlet"]],template:function(e,i){1&e&&(t.TgZ(0,"ul",0,1),t.NdJ("scroll",function(m){return i.emitScroll(m)})("keydown",function(m){return i.navigateList(m)}),t.YNc(2,F,7,12,"li",2),t.qZA()),2&e&&(t.uIk("aria-label",i.ariaLabel)("aria-activedescendant",i.highlightedItem),t.xp6(2),t.Q6J("ngForOf",i.displayItems))},dependencies:[E.mk,E.sg,E.O5,E.tP,de.ar],encapsulation:2}),n.listCount=0,n})(),V=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[B],imports:[E.ez,Se.u5,_e.LU,Pt,ee.As,de.QX]}),n})();const te=function(n){return{display:n}};function Cn(n,a){if(1&n&&(t.TgZ(0,"div",1),t.Hsn(1),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngStyle",t.VKq(3,te,e.active?null:"none")),t.uIk("tabindex",e.tabIndex)("aria-labelledby",e.id+"-header")}}const Xt=["*"],an=["tabItem"],on=function(n,a){return{"bx--tabs__nav-item--selected bx--tabs--scrollable__nav-item--selected":n,"bx--tabs__nav-item--disabled bx--tabs--scrollable__nav-item--disabled":a}},ln=["tabList"],cn=["rightOverflowNavButton"],un=["leftOverflowNavButton"],dn=function(n,a){return{"bx--skeleton":n,"bx--tabs--container bx--tabs--scrollable--container":a}},wt=function(n,a){return{"bx--tab--overflow-nav-button":n,"bx--tab--overflow-nav-button--hidden":a}};function Dn(n,a){1&n&&(t.O4$(),t.kcU(),t._UZ(0,"div",14))}function An(n,a){if(1&n&&t.GkF(0,15),2&n){const e=t.oxw();t.Q6J("ngTemplateOutlet",e.contentBefore)}}function En(n,a){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.heading," ")}}function Mn(n,a){}const xn=function(n){return{$implicit:n}};function Ln(n,a){if(1&n&&t.YNc(0,Mn,0,0,"ng-template",20),2&n){const e=t.oxw().$implicit;t.Q6J("ngTemplateOutlet",e.heading)("ngTemplateOutletContext",t.VKq(2,xn,e.context))}}function Nn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"li",16),t.NdJ("click",function(){const f=t.CHM(e),m=f.$implicit,T=f.index,I=t.MAs(2),R=t.oxw();return t.KtG(R.selectTab(I,m,T))}),t.TgZ(1,"button",17,18),t.NdJ("focus",function(){const m=t.CHM(e).index,T=t.MAs(2),I=t.oxw();return t.KtG(I.onTabFocus(T,m))})("click",function(f){return f.preventDefault()}),t.YNc(3,En,2,1,"ng-container",19),t.YNc(4,Ln,1,4,null,19),t.qZA()()}if(2&n){const e=a.$implicit;t.Q6J("ngClass",t.WLB(9,on,e.active,e.disabled)),t.xp6(1),t.MGl("id","",e.id,"-header"),t.Q6J("title",e.title?e.title:e.heading),t.uIk("aria-selected",e.active)("tabindex",e.active?0:-1)("aria-controls",e.id)("aria-disabled",e.disabled),t.xp6(2),t.Q6J("ngIf",!e.headingIsTemplate),t.xp6(1),t.Q6J("ngIf",e.headingIsTemplate)}}function Rn(n,a){if(1&n&&t.GkF(0,15),2&n){const e=t.oxw();t.Q6J("ngTemplateOutlet",e.contentAfter)}}function Hn(n,a){1&n&&t._UZ(0,"div",21)}function Fn(n,a){if(1&n&&t._UZ(0,"ibm-tab-headers",4),2&n){const e=t.oxw(),i=t.MAs(3),f=t.MAs(5);t.Q6J("skeleton",e.skeleton)("tabs",e.tabs)("followFocus",e.followFocus)("cacheActive",e.cacheActive)("contentBefore",i)("contentAfter",f)("ariaLabel",e.ariaLabel)("ariaLabelledby",e.ariaLabelledby)("type",e.type)}}function Bn(n,a){1&n&&t.Hsn(0,1)}function jn(n,a){1&n&&t.Hsn(0,2)}function Pn(n,a){if(1&n&&t._UZ(0,"ibm-tab-headers",5),2&n){const e=t.oxw();t.Q6J("skeleton",e.skeleton)("tabs",e.tabs)("cacheActive",e.cacheActive)("type",e.type)}}const Un=["*",[["","before",""]],[["","after",""]]],$n=["*","[before]","[after]"];let Jn=0,en=(()=>{class n{constructor(){this.headingIsTemplate=!1,this.active=!1,this.disabled=!1,this.tabIndex=0,this.id="n-tab-"+Jn++,this.selected=new t.vpe,this.attrClass=this.id,this._cacheActive=!1}set cacheActive(e){this._cacheActive=e}get cacheActive(){return this._cacheActive}ngOnInit(){this.heading instanceof t.Rgc&&(this.headingIsTemplate=!0)}doSelect(){this.selected.emit()}shouldRender(){return this.active||this.cacheActive}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ibm-tab"]],hostVars:1,hostBindings:function(e,i){2&e&&t.uIk("id",i.attrClass)},inputs:{active:"active",disabled:"disabled",tabIndex:"tabIndex",id:"id",cacheActive:"cacheActive",heading:"heading",title:"title",context:"context"},outputs:{selected:"selected"},ngContentSelectors:Xt,decls:1,vars:1,consts:[["role","tabpanel","class","bx--tab-content","aria-live","polite",3,"ngStyle",4,"ngIf"],["role","tabpanel","aria-live","polite",1,"bx--tab-content",3,"ngStyle"]],template:function(e,i){1&e&&(t.F$t(),t.YNc(0,Cn,2,5,"div",0)),2&e&&t.Q6J("ngIf",i.shouldRender())},dependencies:[E.O5,E.PC],encapsulation:2}),n})(),fn=(()=>{class n{constructor(e,i,f,m){this.elementRef=e,this.changeDetectorRef=i,this.eventService=f,this.i18n=m,this.cacheActive=!1,this.skeleton=!1,this.type="default",this.translations=this.i18n.get().PAGINATION,this.firstVisibleTab=0,this.OVERFLOW_BUTTON_OFFSET=40}get hasHorizontalOverflow(){const e=this.headerContainer.nativeElement;return e.scrollWidth>e.clientWidth}get leftOverflowNavButtonHidden(){return!this.hasHorizontalOverflow||!this.headerContainer.nativeElement.scrollLeft}get rightOverflowNavButtonHidden(){const e=this.headerContainer.nativeElement;return!this.hasHorizontalOverflow||e.scrollLeft+e.clientWidth===e.scrollWidth}keyboardInput(e){let i=Array.from(this.tabs);("Right"===e.key||"ArrowRight"===e.key)&&(this.currentSelectedTab<this.allTabHeaders.length-1?(e.preventDefault(),this.followFocus&&this.selectTab(e.target,i[this.currentSelectedTab+1],this.currentSelectedTab),this.allTabHeaders.toArray()[this.currentSelectedTab+1].nativeElement.focus()):(e.preventDefault(),this.followFocus&&this.selectTab(e.target,i[0],0),this.allTabHeaders.first.nativeElement.focus())),("Left"===e.key||"ArrowLeft"===e.key)&&(this.currentSelectedTab>0?(e.preventDefault(),this.followFocus&&this.selectTab(e.target,i[this.currentSelectedTab-1],this.currentSelectedTab),this.allTabHeaders.toArray()[this.currentSelectedTab-1].nativeElement.focus()):(e.preventDefault(),this.followFocus&&this.selectTab(e.target,i[this.allTabHeaders.length-1],this.allTabHeaders.length),this.allTabHeaders.toArray()[this.allTabHeaders.length-1].nativeElement.focus())),"Home"===e.key&&(e.preventDefault(),this.followFocus&&this.selectTab(e.target,i[0],0),this.allTabHeaders.toArray()[0].nativeElement.focus()),"End"===e.key&&(e.preventDefault(),this.followFocus&&this.selectTab(e.target,i[this.allTabHeaders.length-1],this.allTabHeaders.length),this.allTabHeaders.toArray()[this.allTabHeaders.length-1].nativeElement.focus()),(" "===e.key||"Spacebar"===e.key)&&!this.followFocus&&this.selectTab(e.target,i[this.currentSelectedTab],this.currentSelectedTab)}ngOnInit(){this.eventService.on(window,"resize",()=>this.handleScroll())}ngAfterContentInit(){this.tabs=this.tabInput?this.tabInput:this.tabQuery,this.tabs.forEach(e=>e.cacheActive=this.cacheActive),this.tabs.changes.subscribe(()=>{this.setFirstTab()}),this.setFirstTab()}ngOnChanges(e){this.tabs&&e.cacheActive&&this.tabs.forEach(i=>i.cacheActive=this.cacheActive)}onTabFocus(e,i){this.currentSelectedTab=i,this.headerContainer.nativeElement.parentElement.scrollLeft=0}getSelectedTab(){return this.tabs.find(i=>i.active)||{headingIsTemplate:!1,heading:""}}selectTab(e,i,f){i.disabled||(this.currentSelectedTab=f,this.tabs.forEach(m=>m.active=!1),i.active=!0,i.doSelect())}handleScroll(){this.changeDetectorRef.markForCheck()}handleOverflowNavClick(e,i=15){const f=this.headerContainer.nativeElement,{clientWidth:m,scrollLeft:T,scrollWidth:I}=f;1===e&&!T&&(f.scrollLeft+=this.OVERFLOW_BUTTON_OFFSET),f.scrollLeft+=e*i;const O=1===e&&T+m>=I-this.OVERFLOW_BUTTON_OFFSET;-1===e&&T<this.OVERFLOW_BUTTON_OFFSET&&this.rightOverflowNavButton.nativeElement.focus(),O&&this.leftOverflowNavButton.nativeElement.focus()}handleOverflowNavMouseDown(e){const i=this.headerContainer.nativeElement;this.overflowNavInterval=setInterval(()=>{const{clientWidth:f,scrollLeft:m,scrollWidth:T}=i;(-1===e&&m<this.OVERFLOW_BUTTON_OFFSET||1===e&&m+f>=T-this.OVERFLOW_BUTTON_OFFSET)&&clearInterval(this.overflowNavInterval),this.handleOverflowNavClick(e)})}handleOverflowNavMouseUp(){clearInterval(this.overflowNavInterval)}setFirstTab(){setTimeout(()=>{let e=this.tabs.find(i=>i.active);!e&&this.tabs.first&&(e=this.tabs.first,e.active=!0),e&&e.doSelect()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(ee.PO),t.Y36(_e.oc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ibm-tab-headers"]],contentQueries:function(e,i,f){if(1&e&&t.Suo(f,en,4),2&e){let m;t.iGM(m=t.CRH())&&(i.tabQuery=m)}},viewQuery:function(e,i){if(1&e&&(t.Gf(ln,7),t.Gf(cn,7),t.Gf(un,7),t.Gf(an,5)),2&e){let f;t.iGM(f=t.CRH())&&(i.headerContainer=f.first),t.iGM(f=t.CRH())&&(i.rightOverflowNavButton=f.first),t.iGM(f=t.CRH())&&(i.leftOverflowNavButton=f.first),t.iGM(f=t.CRH())&&(i.allTabHeaders=f)}},hostBindings:function(e,i){1&e&&t.NdJ("keydown",function(m){return i.keyboardInput(m)})},inputs:{cacheActive:"cacheActive",skeleton:"skeleton",type:"type",translations:"translations",tabInput:["tabs","tabInput"],followFocus:"followFocus",ariaLabel:"ariaLabel",ariaLabelledby:"ariaLabelledby",contentBefore:"contentBefore",contentAfter:"contentAfter"},features:[t.TTD],decls:18,vars:21,consts:[["role","navigation",1,"bx--tabs--scrollable",3,"ngClass"],["type","button",3,"title","ngClass","click","mousedown","mouseup"],["leftOverflowNavButton",""],["focusable","false","preserveAspectRatio","xMidYMid meet","xmlns","http://www.w3.org/2000/svg","fill","currentColor","width","16","height","16","viewBox","0 0 16 16","aria-hidden","true"],["d","M5 8L10 3 10.7 3.7 6.4 8 10.7 12.3 10 13z"],["class","bx--tabs__overflow-indicator--left",4,"ngIf"],["role","tablist",1,"bx--tabs--scrollable__nav",3,"scroll"],["tabList",""],["role","presentation"],[3,"ngTemplateOutlet",4,"ngIf"],["class","bx--tabs--scrollable__nav-item","role","presentation",3,"ngClass","click",4,"ngFor","ngForOf"],["class","bx--tabs__overflow-indicator--right",4,"ngIf"],["rightOverflowNavButton",""],["d","M11 8L6 13 5.3 12.3 9.6 8 5.3 3.7 6 3z"],[1,"bx--tabs__overflow-indicator--left"],[3,"ngTemplateOutlet"],["role","presentation",1,"bx--tabs--scrollable__nav-item",3,"ngClass","click"],["draggable","false","href","#","role","tab",1,"bx--tabs--scrollable__nav-link",3,"id","title","focus","click"],["tabItem",""],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"bx--tabs__overflow-indicator--right"]],template:function(e,i){1&e&&(t.TgZ(0,"nav",0)(1,"button",1,2),t.NdJ("click",function(){return i.handleOverflowNavClick(-1)})("mousedown",function(){return i.handleOverflowNavMouseDown(-1)})("mouseup",function(){return i.handleOverflowNavMouseUp()}),t.O4$(),t.TgZ(3,"svg",3),t._UZ(4,"path",4),t.qZA()(),t.YNc(5,Dn,1,0,"div",5),t.kcU(),t.TgZ(6,"ul",6,7),t.NdJ("scroll",function(){return i.handleScroll()}),t.TgZ(8,"li",8),t.YNc(9,An,1,1,"ng-container",9),t.qZA(),t.YNc(10,Nn,5,12,"li",10),t.TgZ(11,"li",8),t.YNc(12,Rn,1,1,"ng-container",9),t.qZA()(),t.YNc(13,Hn,1,0,"div",11),t.TgZ(14,"button",1,12),t.NdJ("click",function(){return i.handleOverflowNavClick(1)})("mousedown",function(){return i.handleOverflowNavMouseDown(1)})("mouseup",function(){return i.handleOverflowNavMouseUp()}),t.O4$(),t.TgZ(16,"svg",3),t._UZ(17,"path",13),t.qZA()()()),2&e&&(t.Q6J("ngClass",t.WLB(12,dn,i.skeleton,"container"===i.type)),t.uIk("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),t.xp6(1),t.Q6J("title",i.translations.PREVIOUS)("ngClass",t.WLB(15,wt,i.hasHorizontalOverflow,i.leftOverflowNavButtonHidden)),t.xp6(4),t.Q6J("ngIf",!i.leftOverflowNavButtonHidden),t.xp6(4),t.Q6J("ngIf",i.contentBefore),t.xp6(1),t.Q6J("ngForOf",i.tabs),t.xp6(2),t.Q6J("ngIf",i.contentAfter),t.xp6(1),t.Q6J("ngIf",!i.rightOverflowNavButtonHidden),t.xp6(1),t.Q6J("title",i.translations.NEXT)("ngClass",t.WLB(18,wt,i.hasHorizontalOverflow,i.rightOverflowNavButtonHidden)))},dependencies:[E.mk,E.sg,E.O5,E.tP],encapsulation:2}),n})(),Zn=(()=>{class n{constructor(){this.position="top",this.cacheActive=!1,this.followFocus=!0,this.skeleton=!1,this.isNavigation=!1,this.type="default"}ngAfterContentInit(){this.tabHeaders&&(this.tabHeaders.cacheActive=this.cacheActive),this.tabs.forEach(e=>{e.tabIndex=this.isNavigation?null:0})}ngOnChanges(e){this.tabHeaders&&e.cacheActive&&(this.tabHeaders.cacheActive=this.cacheActive),this.tabs&&e.isNavigation&&this.tabs.forEach(i=>{i.tabIndex=this.isNavigation?null:0})}hasTabHeaders(){return this.tabs.length>0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ibm-tabs"]],contentQueries:function(e,i,f){if(1&e&&(t.Suo(f,fn,5),t.Suo(f,en,4)),2&e){let m;t.iGM(m=t.CRH())&&(i.tabHeaders=m.first),t.iGM(m=t.CRH())&&(i.tabs=m)}},inputs:{position:"position",cacheActive:"cacheActive",followFocus:"followFocus",skeleton:"skeleton",isNavigation:"isNavigation",type:"type",ariaLabel:"ariaLabel",ariaLabelledby:"ariaLabelledby"},features:[t.TTD],ngContentSelectors:$n,decls:7,vars:2,consts:[[3,"skeleton","tabs","followFocus","cacheActive","contentBefore","contentAfter","ariaLabel","ariaLabelledby","type",4,"ngIf"],["before",""],["after",""],[3,"skeleton","tabs","cacheActive","type",4,"ngIf"],[3,"skeleton","tabs","followFocus","cacheActive","contentBefore","contentAfter","ariaLabel","ariaLabelledby","type"],[3,"skeleton","tabs","cacheActive","type"]],template:function(e,i){1&e&&(t.F$t(Un),t.YNc(0,Fn,1,9,"ibm-tab-headers",0),t.Hsn(1),t.YNc(2,Bn,1,0,"ng-template",null,1,t.W1O),t.YNc(4,jn,1,0,"ng-template",null,2,t.W1O),t.YNc(6,Pn,1,4,"ibm-tab-headers",3)),2&e&&(t.Q6J("ngIf",i.hasTabHeaders()&&"top"===i.position),t.xp6(6),t.Q6J("ngIf",i.hasTabHeaders()&&"bottom"===i.position))},dependencies:[E.O5,fn],encapsulation:2}),n})(),Vn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[E.ez,ee.As,_e.LU]}),n})();var Tt=x(7862),hn=x(5946),pn=x(1496);const Wn=["editor"],nn=new t.OlP("EDITOR_SETTINGS");let se=(()=>{class n{constructor(e){this.baseUrl="https://unpkg.com/monaco-editor/min",this.typingsWorkerUrl="https://unpkg.com/@ngstack/code-editor/workers/typings-worker.js",this.typingsLoaded=new we.xQ,this.loaded=new me.X(null),this.loadingTypings=new me.X(!1);const i=Object.assign({baseUrl:this.baseUrl,typingsWorkerUrl:this.typingsWorkerUrl},e);this.baseUrl=i.baseUrl,this.typingsWorkerUrl=i.typingsWorkerUrl}loadTypingsWorker(){if(!this.typingsWorker&&window.Worker){if(this.typingsWorkerUrl.startsWith("http")){const i=URL.createObjectURL(new Blob([`importScripts('${this.typingsWorkerUrl}');`],{type:"text/javascript"}));this.typingsWorker=new Worker(i)}else this.typingsWorker=new Worker(this.typingsWorkerUrl);this.typingsWorker.addEventListener("message",e=>{this.loadingTypings.next(!1),this.typingsLoaded.next(e.data)})}return this.typingsWorker}loadTypings(e){if(e&&e.length>0){const i=this.loadTypingsWorker();i&&(this.loadingTypings.next(!0),i.postMessage({dependencies:e}))}}loadEditor(){return new Promise(e=>{const i=()=>{if(window.require.config({paths:{vs:`${this.baseUrl}/vs`}}),this.baseUrl.startsWith("http")){const m=URL.createObjectURL(new Blob([`\n            self.MonacoEnvironment = {\n              baseUrl: "${this.baseUrl}"\n            };\n            importScripts('${this.baseUrl}/vs/base/worker/workerMain.js');\n          `],{type:"text/javascript"}));window.MonacoEnvironment={getWorkerUrl:function(){return m}}}window.require(["vs/editor/editor.main"],()=>{this.loaded.next({monaco}),e()})};if(window.require)i();else{const f=document.createElement("script");f.type="text/javascript",f.src=`${this.baseUrl}/vs/loader.js`,f.addEventListener("load",i),document.body.appendChild(f)}})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(nn,8))},n.\u0275prov=(0,t.Yz7)({factory:function(){return new n((0,t.LFG)(nn,8))},token:n,providedIn:"root"}),n})(),bn=(()=>{class n{constructor(e){e.loaded.subscribe(i=>{this.setup(i.monaco)}),e.typingsLoaded.subscribe(i=>{this.updateTypings(i)})}setup(e){if(!e)return;this.monaco=e;const i=e.languages.typescript.typescriptDefaults;i.setCompilerOptions({target:e.languages.typescript.ScriptTarget.ES6,module:"commonjs",noEmit:!0,noLib:!0,emitDecoratorMetadata:!0,experimentalDecorators:!0,allowNonTsExtensions:!0,declaration:!0,lib:["es2017","dom"],baseUrl:".",paths:{}}),i.setMaximumWorkerIdleTime(-1),i.setEagerModelSync(!0)}updateTypings(e){e&&(this.addExtraLibs(e.files),this.addLibraryPaths(e.entryPoints))}addExtraLibs(e=[]){if(!this.monaco||!e||0===e.length)return;const i=this.monaco.languages.typescript.typescriptDefaults,f=i.getExtraLibs();e.forEach(m=>{f[m.path]||(i._extraLibs[m.path]=m.content)}),i._onDidChange.fire(i)}addLibraryPaths(e={}){if(!this.monaco)return;const f=this.monaco.languages.typescript.typescriptDefaults.getCompilerOptions();f.paths=f.paths||{},Object.keys(e).forEach(m=>{f.paths[m]=[e[m]]})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(se))},n.\u0275prov=(0,t.Yz7)({factory:function(){return new n((0,t.LFG)(se))},token:n,providedIn:"root"}),n})(),_n=(()=>{class n{constructor(e){e.loaded.subscribe(i=>{this.setup(i.monaco)}),e.typingsLoaded.subscribe(i=>{this.updateTypings(i)})}setup(e){if(!e)return;this.monaco=e;const i=e.languages.typescript.javascriptDefaults;i.setCompilerOptions({target:e.languages.typescript.ScriptTarget.ES6,module:"commonjs",allowNonTsExtensions:!0,baseUrl:".",paths:{}}),i.setMaximumWorkerIdleTime(-1),i.setEagerModelSync(!0)}updateTypings(e){e&&(this.addExtraLibs(e.files),this.addLibraryPaths(e.entryPoints))}addExtraLibs(e=[]){if(!this.monaco||!e||0===e.length)return;const i=this.monaco.languages.typescript.javascriptDefaults,f=i.getExtraLibs();e.forEach(m=>{f[m.path]||(i._extraLibs[m.path]=m.content)}),i._onDidChange.fire(i)}addLibraryPaths(e={}){if(!this.monaco)return;const f=this.monaco.languages.typescript.javascriptDefaults.getCompilerOptions();f.paths=f.paths||{},Object.keys(e).forEach(m=>{f.paths[m]=[e[m]]})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(se))},n.\u0275prov=(0,t.Yz7)({factory:function(){return new n((0,t.LFG)(se))},token:n,providedIn:"root"}),n})(),yn=(()=>{class n{constructor(e){e.loaded.subscribe(i=>{this.setup(i.monaco)})}setup(e){if(!e)return;this.monaco=e;const i=e.languages.json.jsonDefaults;i.setDiagnosticsOptions({validate:!0,allowComments:!0,schemas:[...i._diagnosticsOptions.schemas,{uri:"http://myserver/foo-schema.json",schema:{type:"object",properties:{p1:{enum:["v1","v2"]},p2:{$ref:"http://myserver/bar-schema.json"}}}},{uri:"http://myserver/bar-schema.json",schema:{type:"object",properties:{q1:{enum:["x1","x2"]}}}}]})}addSchemas(e,i=[]){const f=this.monaco.languages.json.jsonDefaults,m=f.diagnosticsOptions,T={};m&&m.schemas&&m.schemas.length>0&&m.schemas.forEach(I=>{T[I.uri]=I});for(const{uri:I,schema:R}of i)T[I]={uri:I,schema:R,fileMatch:[e||"*.json"]};m.schemas=Object.values(T),f.setDiagnosticsOptions(m)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(se))},n.\u0275prov=(0,t.Yz7)({factory:function(){return new n((0,t.LFG)(se))},token:n,providedIn:"root"}),n})(),qn=(()=>{class n{constructor(e,i,f,m){this.editorService=e,this.typescriptDefaults=i,this.javascriptDefaults=f,this.jsonDefaults=m,this.defaultOptions={lineNumbers:!0,contextmenu:!1,minimap:{enabled:!1}},this.theme="vs",this.options={},this.readOnly=!1,this.valueChanged=new t.vpe,this.loaded=new t.vpe}ngOnDestroy(){this._editor&&(this._editor.dispose(),this._editor=null),this._model&&(this._model.dispose(),this._model=null)}ngOnChanges(e){e.codeModel&&!e.codeModel.firstChange&&this.updateModel(e.codeModel.currentValue),e.readOnly&&!e.readOnly.firstChange&&this._editor&&this._editor.updateOptions({readOnly:e.readOnly.currentValue}),e.theme&&!e.theme.firstChange&&monaco.editor.setTheme(e.theme.currentValue)}onResize(){this._editor&&this._editor.layout()}ngAfterViewInit(){return function Yn(n,a,e,i){return new(e||(e=Promise))(function(m,T){function I(Q){try{O(i.next(Q))}catch(ae){T(ae)}}function R(Q){try{O(i.throw(Q))}catch(ae){T(ae)}}function O(Q){Q.done?m(Q.value):function f(m){return m instanceof e?m:new e(function(T){T(m)})}(Q.value).then(I,R)}O((i=i.apply(n,a||[])).next())})}(this,void 0,void 0,function*(){this.setupEditor(),this.loaded.emit()})}setupEditor(){const e=this.editorContent.nativeElement,i=Object.assign({value:"",language:"text",uri:`code-${Date.now()}`},this.codeModel);this._model=monaco.editor.createModel(i.value,i.language,monaco.Uri.file(i.uri));const f=Object.assign({},this.defaultOptions,this.options,{readOnly:this.readOnly,theme:this.theme,model:this._model});this._editor=monaco.editor.create(e,f),this._model.onDidChangeContent(()=>{const m=this._model.getValue();this.codeModel&&(this.codeModel.value=m),this.valueChanged.emit(m)}),this.setupDependencies(this.codeModel)}setupDependencies(e){if(!e)return;const{language:i}=e;if(i)switch(i.toLowerCase()){case"typescript":case"javascript":e.dependencies&&this.editorService.loadTypings(e.dependencies);break;case"json":e.schemas&&this.jsonDefaults.addSchemas(e.uri,e.schemas)}}setEditorValue(e){setTimeout(()=>{this._model&&this._model.setValue(e)})}updateModel(e){e&&(this.setEditorValue(e.value),this._model&&void 0!==typeof monaco&&monaco.editor.setModelLanguage(this._model,e.language),this.setupDependencies(e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(se),t.Y36(bn),t.Y36(_n),t.Y36(yn))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngs-code-editor"]],viewQuery:function(e,i){if(1&e&&t.Gf(Wn,7),2&e){let f;t.iGM(f=t.CRH())&&(i.editorContent=f.first)}},hostAttrs:[1,"ngs-code-editor"],hostBindings:function(e,i){1&e&&t.NdJ("resize",function(){return i.onResize()},!1,t.Jf7)},inputs:{theme:"theme",options:"options",readOnly:"readOnly",codeModel:"codeModel"},outputs:{valueChanged:"valueChanged",loaded:"loaded"},features:[t.TTD],decls:2,vars:0,consts:[["id","editor",1,"monaco-editor","editor"],["editor",""]],template:function(e,i){1&e&&t._UZ(0,"div",0,1)},styles:[".editor{height:inherit;min-height:200px;width:100%}"],encapsulation:2,changeDetection:0}),n})();function Kn(n){return()=>n.loadEditor()}let Xn=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:nn,useValue:e},se,bn,_n,yn,{provide:t.ip1,useFactory:Kn,deps:[se],multi:!0}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[E.ez]}),n})();function ei(n,a){if(1&n&&(t.TgZ(0,"ibm-selection-tile",24)(1,"code"),t._uU(2),t.qZA()()),2&n){const e=a.$implicit;t.Q6J("value",a.index.toString())("selected",e.selected),t.xp6(2),t.Oqu(e.inputs.stateChangeName)}}function ti(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ibm-tile-group",22),t.NdJ("selected",function(f){t.CHM(e);const m=t.oxw(3);return t.KtG(m.historyItemSelected$.next(f))}),t.YNc(1,ei,3,3,"ibm-selection-tile",23),t.qZA()}if(2&n){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function ni(n,a){if(1&n&&(t.TgZ(0,"div",20),t.YNc(1,ti,2,1,"ibm-tile-group",21),t.qZA()),2&n){const e=a.ngIf;t.xp6(1),t.Q6J("ngIf",e.length)}}function ii(n,a){1&n&&t._UZ(0,"div",25)}function ri(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ngs-code-editor",27),t.NdJ("keypress",function(f){t.CHM(e);const m=t.oxw(3);return t.KtG(m.editorKeyPressed$.next(f))}),t.ALo(1,"async"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("codeModel",t.lcZ(1,2,e.codeModel$))("options",e.codeOptions)}}function si(n,a){if(1&n&&(t.ynx(0),t.YNc(1,ri,2,4,"ngs-code-editor",26),t.ALo(2,"async"),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,1,e.payloadEditorRefreshRequired$))}}function ai(n,a){if(1&n&&(t.TgZ(0,"code",28),t._uU(1),t.qZA()),2&n){const e=a.item;t.xp6(1),t.Oqu(null==e?null:e.content)}}function oi(n,a){if(1&n&&(t.TgZ(0,"ibm-list-row")(1,"ibm-list-column")(2,"code"),t._uU(3),t.qZA()(),t.TgZ(4,"ibm-list-column"),t._UZ(5,"markdown",2),t.qZA()()),2&n){const e=a.$implicit;t.xp6(3),t.Oqu(e.text),t.xp6(2),t.Q6J("data",e.description)}}function li(n,a){if(1&n&&(t.TgZ(0,"ibm-structured-list",29)(1,"ibm-list-header")(2,"ibm-list-column"),t._uU(3,"Parameter"),t.qZA(),t.TgZ(4,"ibm-list-column"),t._uU(5,"Description"),t.qZA()(),t.YNc(6,oi,6,2,"ibm-list-row",30),t.qZA()),2&n){const e=t.oxw().$implicit;t.Q6J("condensed",!0),t.xp6(6),t.Q6J("ngForOf",e.parameters)}}function ci(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h1",1)(2,"code"),t._uU(3),t.qZA()(),t._UZ(4,"markdown",2),t.YNc(5,ni,2,1,"div",3),t.ALo(6,"async"),t.TgZ(7,"ibm-tile",4)(8,"div",5)(9,"ibm-dropdown",6),t.NdJ("selected",function(f){t.CHM(e);const m=t.oxw();return t.KtG(m.stateChangeSelection$.next(f))}),t._UZ(10,"ibm-dropdown-list",7),t.ALo(11,"async"),t.qZA()(),t.TgZ(12,"ibm-tabs")(13,"ibm-tab",8),t.YNc(14,ii,1,0,"div",9),t.ALo(15,"async"),t.ALo(16,"async"),t.YNc(17,si,3,3,"ng-container",0),t.ALo(18,"async"),t.qZA(),t.TgZ(19,"ibm-tab",10),t._uU(20),t.ALo(21,"async"),t.qZA()(),t.TgZ(22,"button",11),t.NdJ("click",function(){t.CHM(e);const f=t.oxw();return t.KtG(f.executeClicked$.next())}),t.ALo(23,"async"),t._uU(24," Execute "),t.qZA()(),t.TgZ(25,"ibm-tile",12)(26,"div",5)(27,"ibm-dropdown",13),t.NdJ("selected",function(f){t.CHM(e);const m=t.oxw();return t.KtG(m.selectorSelection$.next(f))}),t._UZ(28,"ibm-dropdown-list",7),t.ALo(29,"async"),t.qZA()(),t.TgZ(30,"ibm-tabs")(31,"ibm-tab",14),t._UZ(32,"markdown",2),t.ALo(33,"async"),t.qZA(),t.TgZ(34,"ibm-tab",15),t._UZ(35,"pre",16),t.ALo(36,"async"),t.qZA(),t.TgZ(37,"ibm-tab",10),t._uU(38),t.ALo(39,"async"),t.qZA()()(),t.TgZ(40,"h2",17),t._uU(41,"Demo Code"),t.qZA(),t._UZ(42,"markdown",2),t.ALo(43,"async"),t.YNc(44,ai,2,1,"ng-template",null,18,t.W1O),t.YNc(46,li,7,2,"ibm-structured-list",19),t.TgZ(47,"h2")(48,"code"),t._uU(49),t.qZA(),t._uU(50," Source Code "),t.qZA(),t._UZ(51,"markdown",2),t.ALo(52,"async"),t.BQk()}if(2&n){const e=a.$implicit,i=t.MAs(45),f=t.oxw();let m,T;t.xp6(3),t.Oqu(e.name),t.xp6(1),t.Q6J("data",e.description),t.xp6(1),t.Q6J("ngIf",t.lcZ(6,22,f.demoHistory$)),t.xp6(4),t.Q6J("dropUp",!1)("displayValue",i),t.xp6(1),t.Q6J("items",t.lcZ(11,24,f.stateChangeItems$))("listTpl",i),t.xp6(4),t.Q6J("ngIf",t.lcZ(15,26,f.payloadEditorRefreshRequired$)||!1===t.lcZ(16,28,f.editorReady$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(18,30,f.editorReady$)),t.xp6(3),t.hij(" ",null==(m=t.lcZ(21,32,f.selectedStateChange$))?null:m.documentation," "),t.xp6(2),t.Q6J("disabled",t.lcZ(23,34,f.selectedHistoryItem$)),t.xp6(5),t.Q6J("dropUp",!1)("displayValue",i),t.xp6(1),t.Q6J("items",t.lcZ(29,36,f.selectorItems$))("listTpl",i),t.xp6(4),t.Q6J("data",t.lcZ(33,38,f.selectorResult$)),t.xp6(3),t.Q6J("innerHTML",t.lcZ(36,40,f.selectorDiff$),t.oJD),t.xp6(3),t.hij(" ",null==(T=t.lcZ(39,42,f.selectedSelector$))?null:T.documentation," "),t.xp6(4),t.Q6J("data",t.lcZ(43,44,f.demoSourceCodeMd$)),t.xp6(4),t.Q6J("ngIf",e.parameters.length),t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Q6J("data",t.lcZ(52,46,f.creatorSourceCodeMd$))}}let ui=(()=>{class n{constructor(){this.adapterDocs=W,this.editorReady$=(0,t.f3M)(De).ready$,this.path=("adapterDocs"+Math.random()).replace(".",""),this.detachedDocsStore=((...n)=>(0,t.f3M)(H.gY).watch(...n))(this.path,ie),this.docsInputValue$=new we.xQ,this.docsReceived$=this.docsInputValue$.pipe((0,H.sv)("docsReceived$")),this.stateChangeSelection$=new H.Hw("stateChangeSelection$"),this.stateChangePayloadDelay$=this.detachedDocsStore.selectedStateChange$.pipe(function et(n,a=He){const i=function Dt(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-a.now():Math.abs(n);return f=>f.lift(new Mt(i,a))}(100),(0,nt.h)(void 0),(0,H.sv)("stateChangePayloadDelay$")),this.selectorSelection$=new H.Hw("selectorSelection$"),this.editorKeyPressed$=new we.xQ,this.payloadChangedDebounced$=this.editorKeyPressed$.pipe(Fe(200),(0,ue.U)(e=>e.target.value),(0,H.sv)("editorKeyPressed$")),this.executeClicked$=new we.xQ,this.demoAdapterValue$=this.docsInputValue$.pipe((0,ue.U)(e=>e.demoAdapter.value)),this.newStateCalculated$=this.executeClicked$.pipe((0,st.w)(()=>this.detachedDocsStore.demoStateAndPayload$.pipe((0,at.P)())),function Lt(...n){return a=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),a.lift(new je(n,e))}}(this.demoAdapterValue$),(0,ue.U)(([{state:e,payload:i,initialState:f,stateChangeName:m},T])=>T[m](e,JSON.parse(i),f)),(0,H.sv)("executeClicked$")),this.historyItemSelected$=new H.Hw("historyItemSelected$"),this.docsStore=((...n)=>(0,t.f3M)(H.gY).init(...n))([this.path,lt,Nt],{receiveDocs:this.docsReceived$,selectStateChange:this.stateChangeSelection$,selectStateChangeFromHistory:this.historyItemSelected$,resetEditorRefresh:this.stateChangePayloadDelay$,setPayload:this.payloadChangedDebounced$,setDemoState:this.newStateCalculated$,selectHistoryItem:[this.historyItemSelected$,this.payloadChangedDebounced$,this.stateChangeSelection$],selectSelector:this.selectorSelection$}),this.docs$=this.docsStore.docs$,this.creatorSourceCodeMd$=this.docsStore.creatorSourceCodeMd$,this.demoSourceCodeMd$=this.docsStore.demoSourceCodeMd$,this.paramters$=this.docsStore.parameters$,this.stateChangeItems$=this.docsStore.adapterStateChangeItems$,this.selectorItems$=this.docsStore.adapterSelectorItems$,this.selectedStateChange$=this.docsStore.selectedStateChange$,this.payloadEditorRefreshRequired$=this.docsStore.payloadEditorRefreshRequired$,this.codeModel$=this.docsStore.payloadCodeModel$,this.codeOptions={contextMenu:!0,scrollBeyondLastLine:!1},this.demoHistory$=this.docsStore.demoHistory$,this.selectedHistoryItem$=this.docsStore.selectedHistoryItem$,this.diffStateAndSelectorName$=this.docsStore.diffStateAndSelectorName$,this.selectedSelector$=this.docsStore.selectedSelector$,this.selectorResult$=(0,Ne.aj)([this.demoAdapterValue$,this.diffStateAndSelectorName$]).pipe((0,ue.U)(([e,[i,f]])=>{var m,T;return"```json\n"+G((null===(T=(m=e.selectors||{})[f])||void 0===T?void 0:T.call(m,i[1]))||i[1])+"\n```"})),this.selectorDiff$=(0,Ne.aj)([this.demoAdapterValue$,this.diffStateAndSelectorName$]).pipe((0,ue.U)(([e,[i,f]])=>function Y(n,a){return ne(q.diff(n,a))}(...i.map((e.selectors||{})[f]||this.getState))))}ngOnInit(){setTimeout(()=>this.docsInputValue$.next(this.adapterDocs))}getState(e){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["state-adapt-adapter-docs"]],inputs:{adapterDocs:"adapterDocs"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"adapter-creator-name"],[3,"data"],["class","history",4,"ngIf"],[1,"state-change-panel"],[1,"dropdown-header"],["placeholder","State Change",3,"dropUp","displayValue","selected"],[3,"items","listTpl"],["heading","Payload"],["class","editor-placeholder",4,"ngIf"],["heading","Documentation",1,"padded"],["ibmButton","primary",3,"disabled","click"],[1,"selector-panel"],["placeholder","Selector",3,"dropUp","displayValue","selected"],["heading","Result"],["heading","Diff"],[1,"language-json",3,"innerHTML"],[2,"clear","both"],["codeTemplate",""],[3,"condensed",4,"ngIf"],[1,"history"],[3,"selected",4,"ngIf"],[3,"selected"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],[1,"editor-placeholder"],["theme","vs-dark",3,"codeModel","options","keypress",4,"ngIf"],["theme","vs-dark",3,"codeModel","options","keypress"],[2,"color","#f4f4f4"],[3,"condensed"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.YNc(0,ci,53,48,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.docs$))},dependencies:[E.sg,E.O5,Me,re,pt,Qe,Tt.n9,Tt.G9,Tt.B4,hn.zx,j,$,Zn,en,pn.lF,qn,E.Ov],styles:[".adapter-creator-name[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{margin-left:-5px}  ibm-list-column p{margin:0;font-size:1em}  section.bx--structured-list{margin-bottom:0;margin-bottom:1.6rem;margin-top:.8rem}ibm-tile[_ngcontent-%COMP%]{padding:0}.history[_ngcontent-%COMP%], .state-change-panel[_ngcontent-%COMP%]{margin-top:4.5em!important}.history[_ngcontent-%COMP%]{width:100px;float:left!important;min-height:600px}.history[_ngcontent-%COMP%]:empty{background:linear-gradient(180deg,#393939,transparent)}@media screen and (min-width: 1500px){  .history{margin-left:-200px;width:200px!important}  .state-change-panel{margin-left:-188px!important;width:calc(100% - 12px)!important}  .selector-panel{width:calc(100% - 12px)!important}  .history ibm-selection-tile code{width:170px!important}}  .history ibm-selection-tile label{padding:1rem!important;min-height:0!important;margin-bottom:4px!important;min-width:0}  .history ibm-selection-tile code{width:70px;overflow:hidden;display:block;white-space:nowrap;text-overflow:ellipsis}.state-change-panel[_ngcontent-%COMP%]{margin:0 0 20px 12px;width:calc(100% - 112px);float:right}.selector-panel[_ngcontent-%COMP%]{margin:0 0 2.5rem;width:calc(100% - 112px);float:right}.dropdown-header[_ngcontent-%COMP%]{display:flex;align-items:stretch}.dropdown-header-label[_ngcontent-%COMP%]{width:50%;display:flex;align-items:center;margin-top:0;border-bottom:1px solid #8d8d8d}ibm-dropdown[_ngcontent-%COMP%]{display:block;width:50%;width:100%}ibm-tabs[_ngcontent-%COMP%]{width:100%}  .state-change-panel ibm-tab .bx--tab-content{height:160px;padding:0;background-color:#1e1e1e;border-left:2px solid #00ced1}  ibm-tab.padded .bx--tab-content{padding:1em!important}  .bx--tabs--scrollable__nav,   .bx--tabs--scrollable__nav-item,   .bx--tabs--scrollable__nav-link{width:100%!important}  #editor{min-height:160px!important}.editor-placeholder[_ngcontent-%COMP%]{min-height:160px;width:100%;background-color:#1e1e1e}  .state-change-panel button{width:33.333%}  .selector-panel ibm-tab .bx--tab-content{height:300px;padding:0;background-color:#1e1e1e;border-left:2px solid #00ced1}  .selector-panel ibm-tab pre{height:300px;margin:0;overflow-x:auto;white-space:pre-wrap;font-size:12px;border-left-width:0px}"]}),n})(),Li=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[E.ez,Se.u5,de.QX]}),n})(),Ni=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[E.ez,Ht,Tt.i$,hn.hJ,V,Vn,Li,pn.JP.forRoot({sanitize:t.q3G.NONE}),Xn.forRoot()]}),n})();var Ri=x(2309);const ji={name:"createAdapter",description:"Base adapter with basic operations: noop, set, update and reset",sourceCode:"import { Selectors } from '../selectors/selectors.interface';\nimport { Adapter, ReactionsWithSelectors } from './adapter.type';\n\nexport type BasicAdapterMethods<State> = {\n  noop: (s: State) => State;\n  set: (s: State, p: State) => State;\n  update: (s: State, u: Partial<State>) => State;\n  reset: (s: State, p: any, i: State) => State;\n};\n\nexport function createAdapter<State>() {\n  return <S extends Selectors<State>, R extends ReactionsWithSelectors<State, S>>(\n    adapter: Adapter<State, S, R> = {} as Adapter<State, S, R>,\n  ): Adapter<State, S, R & BasicAdapterMethods<State>> => ({\n    noop: state => state,\n    set: (state, payload) => payload,\n    update: (state, update) => ({ ...state, ...update }),\n    reset: (state, payload, initialState) => initialState,\n    ...adapter,\n    selectors: {\n      ...(adapter.selectors || ({} as S)),\n      state: state => state,\n    },\n  });\n}\n",parameters:[],demoAdapter:{value:(0,H.Uh)()(),stateChanges:{noop:{demoPayload:"null",documentation:"Returns previous state. Used to enable sources to dispatch for Redux Devtoos."},set:{demoPayload:'{ "prop1": "New state set", "prop2": "New State set" }',documentation:"Sets state to value passed in payload."},update:{demoPayload:'{ "prop2": "Updated state" }',documentation:"Spreads payload object onto existing state."},reset:{demoPayload:"null",documentation:"Resets state to initial state."}},selectors:{},initialState:{prop1:"Initial state for base adapter demo",prop2:"Initial state for base adapter demo"},sourceCode:"import { createAdapter } from '@state-adapt/core';\n\ninterface DemoState {\n  prop1: string;\n  prop2: string;\n}\n\nexport const adapter = createAdapter<DemoState>()();\n"}};let Pi=(()=>{class n{constructor(){this.adapterDocs=ji}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["state-adapt-adapters-core"]],standalone:!0,features:[t.jDz],decls:4,vars:1,consts:[[3,"adapterDocs"]],template:function(e,i){1&e&&(t.TgZ(0,"state-adapt-content")(1,"h1"),t._uU(2,"Core Adapters"),t.qZA(),t._UZ(3,"state-adapt-adapter-docs",0),t.qZA()),2&e&&(t.xp6(3),t.Q6J("adapterDocs",i.adapterDocs))},dependencies:[Ni,ui,Ri.S],encapsulation:2}),n})()},907:()=>{},4084:function(Tn,ze,x){!function(H,W){"use strict";W=W&&W.hasOwnProperty("default")?W.default:W;var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},Y=function(b,r){if(!(b instanceof r))throw new TypeError("Cannot call a class as a function")},G=function(){function b(r,l){for(var o=0;o<l.length;o++){var u=l[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,l,o){return l&&b(r.prototype,l),o&&b(r,o),r}}(),ge=function b(r,l,o){null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,l);if(void 0===u){var s=Object.getPrototypeOf(r);return null===s?void 0:b(s,l,o)}if("value"in u)return u.value;var c=u.get;return void 0===c?void 0:c.call(o)},ne=function(b,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);b.prototype=Object.create(r&&r.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(b,r):b.__proto__=r)},oe=function(b,r){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?b:r},St=function(r,l){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function b(r,l){var o=[],u=!0,s=!1,c=void 0;try{for(var h,d=r[Symbol.iterator]();!(u=(h=d.next()).done)&&(o.push(h.value),!l||o.length!==l);u=!0);}catch(g){s=!0,c=g}finally{try{!u&&d.return&&d.return()}finally{if(s)throw c}}return o}(r,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Oe=function(b){if(Array.isArray(b)){for(var r=0,l=Array(b.length);r<b.length;r++)l[r]=b[r];return l}return Array.from(b)},We=function(){function b(r){Y(this,b),this.selfOptions=r||{},this.pipes={}}return G(b,[{key:"options",value:function(l){return l&&(this.selfOptions=l),this.selfOptions}},{key:"pipe",value:function(l,o){var u=o;if("string"==typeof l){if(void 0===u)return this.pipes[l];this.pipes[l]=u}if(l&&l.name){if((u=l).processor===this)return u;this.pipes[u.name]=u}return u.processor=this,u}},{key:"process",value:function(l,o){var u=l;u.options=this.options();for(var s=o||l.pipe||"default",c=void 0,d=void 0;s;)void 0!==u.nextAfterChildren&&(u.next=u.nextAfterChildren,u.nextAfterChildren=null),"string"==typeof s&&(s=this.pipe(s)),s.process(u),d=u,c=s,s=null,u&&u.next&&(u=u.next,s=d.nextPipe||u.pipe||c);return u.hasResult?u.result:void 0}}]),b}(),le=function(){function b(r){Y(this,b),this.name=r,this.filters=[]}return G(b,[{key:"process",value:function(l){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var o=this.debug,u=this.filters.length,s=l,c=0;c<u;c++){var d=this.filters[c];if(o&&this.log("filter: "+d.filterName),d(s),"object"===(void 0===s?"undefined":q(s))&&s.exiting){s.exiting=!1;break}}!s.next&&this.resultCheck&&this.resultCheck(s)}},{key:"log",value:function(l){console.log("[jsondiffpatch] "+this.name+" pipe, "+l)}},{key:"append",value:function(){var l;return(l=this.filters).push.apply(l,arguments),this}},{key:"prepend",value:function(){var l;return(l=this.filters).unshift.apply(l,arguments),this}},{key:"indexOf",value:function(l){if(!l)throw new Error("a filter name is required");for(var o=0;o<this.filters.length;o++)if(this.filters[o].filterName===l)return o;throw new Error("filter not found: "+l)}},{key:"list",value:function(){return this.filters.map(function(l){return l.filterName})}},{key:"after",value:function(l){var o=this.indexOf(l),u=Array.prototype.slice.call(arguments,1);if(!u.length)throw new Error("a filter is required");return u.unshift(o+1,0),Array.prototype.splice.apply(this.filters,u),this}},{key:"before",value:function(l){var o=this.indexOf(l),u=Array.prototype.slice.call(arguments,1);if(!u.length)throw new Error("a filter is required");return u.unshift(o,0),Array.prototype.splice.apply(this.filters,u),this}},{key:"replace",value:function(l){var o=this.indexOf(l),u=Array.prototype.slice.call(arguments,1);if(!u.length)throw new Error("a filter is required");return u.unshift(o,1),Array.prototype.splice.apply(this.filters,u),this}},{key:"remove",value:function(l){var o=this.indexOf(l);return this.filters.splice(o,1),this}},{key:"clear",value:function(){return this.filters.length=0,this}},{key:"shouldHaveResult",value:function(l){if(!1!==l){if(!this.resultCheck){var o=this;return this.resultCheck=function(u){if(!u.hasResult){console.log(u);var s=new Error(o.name+" failed");throw s.noResult=!0,s}},this}}else this.resultCheck=null}}]),b}(),ce=function(){function b(){Y(this,b)}return G(b,[{key:"setResult",value:function(l){return this.result=l,this.hasResult=!0,this}},{key:"exit",value:function(){return this.exiting=!0,this}},{key:"switchTo",value:function(l,o){return"string"==typeof l||l instanceof le?this.nextPipe=l:(this.next=l,o&&(this.nextPipe=o)),this}},{key:"push",value:function(l,o){return l.parent=this,void 0!==o&&(l.childName=o),l.root=this.root||this,l.options=l.options||this.options,this.children?(this.children[this.children.length-1].next=l,this.children.push(l)):(this.children=[l],this.nextAfterChildren=this.next||null,this.next=l),l.next=this,this}}]),b}(),kt="function"==typeof Array.isArray?Array.isArray:function(b){return b instanceof Array};function me(b){if("object"!==(void 0===b?"undefined":q(b)))return b;if(null===b)return null;if(kt(b))return b.map(me);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return function It(b){var r=/^\/(.*)\/([gimyu]*)$/.exec(b.toString());return new RegExp(r[1],r[2])}(b);var r={};for(var l in b)Object.prototype.hasOwnProperty.call(b,l)&&(r[l]=me(b[l]));return r}var t=function(b){function r(l,o){Y(this,r);var u=oe(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return u.left=l,u.right=o,u.pipe="diff",u}return ne(r,b),G(r,[{key:"setResult",value:function(o){if(this.options.cloneDiffValues&&"object"===(void 0===o?"undefined":q(o))){var u="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:me;"object"===q(o[0])&&(o[0]=u(o[0])),"object"===q(o[1])&&(o[1]=u(o[1]))}return ce.prototype.setResult.apply(this,arguments)}}]),r}(ce),De=function(b){function r(l,o){Y(this,r);var u=oe(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return u.left=l,u.delta=o,u.pipe="patch",u}return ne(r,b),r}(ce),Le=function(b){function r(l){Y(this,r);var o=oe(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return o.delta=l,o.pipe="reverse",o}return ne(r,b),r}(ce),Ae="function"==typeof Array.isArray?Array.isArray:function(b){return b instanceof Array},we=function(r){if(r.left!==r.right)if(void 0!==r.left)if(void 0!==r.right){if("function"==typeof r.left||"function"==typeof r.right)throw new Error("functions are not supported");r.leftType=null===r.left?"null":q(r.left),r.rightType=null===r.right?"null":q(r.right),r.leftType===r.rightType&&"boolean"!==r.leftType&&"number"!==r.leftType?("object"===r.leftType&&(r.leftIsArray=Ae(r.left)),"object"===r.rightType&&(r.rightIsArray=Ae(r.right)),r.leftIsArray===r.rightIsArray?r.left instanceof RegExp&&(r.right instanceof RegExp?r.setResult([r.left.toString(),r.right.toString()]).exit():r.setResult([r.left,r.right]).exit()):r.setResult([r.left,r.right]).exit()):r.setResult([r.left,r.right]).exit()}else r.setResult([r.left,0,0]).exit();else{if("function"==typeof r.right)throw new Error("functions are not supported");r.setResult([r.right]).exit()}else r.setResult(void 0).exit()};we.filterName="trivial";var Ne=function(r){if(void 0!==r.delta){if(r.nested=!Ae(r.delta),!r.nested){if(1===r.delta.length)return void r.setResult(r.delta[0]).exit();if(2===r.delta.length){if(r.left instanceof RegExp){var l=/^\/(.*)\/([gimyu]+)$/.exec(r.delta[1]);if(l)return void r.setResult(new RegExp(l[1],l[2])).exit()}return void r.setResult(r.delta[1]).exit()}3===r.delta.length&&0===r.delta[2]&&r.setResult(void 0).exit()}}else r.setResult(r.left).exit()};Ne.filterName="trivial";var Te=function(r){if(void 0!==r.delta){if(r.nested=!Ae(r.delta),!r.nested){if(1===r.delta.length)return void r.setResult([r.delta[0],0,0]).exit();if(2===r.delta.length)return void r.setResult([r.delta[1],r.delta[0]]).exit();3===r.delta.length&&0===r.delta[2]&&r.setResult([r.delta[0]]).exit()}}else r.setResult(r.delta).exit()};function qe(b){if(b&&b.children){for(var r=b.children.length,l=void 0,o=b.result,u=0;u<r;u++)void 0!==(l=b.children[u]).result&&((o=o||{})[l.childName]=l.result);o&&b.leftIsArray&&(o._t="a"),b.setResult(o).exit()}}function Ke(b){if(!b.leftIsArray&&"object"===b.leftType){var r=void 0,l=void 0,o=b.options.propertyFilter;for(r in b.left)!Object.prototype.hasOwnProperty.call(b.left,r)||o&&!o(r,b)||(l=new t(b.left[r],b.right[r]),b.push(l,r));for(r in b.right)!Object.prototype.hasOwnProperty.call(b.right,r)||o&&!o(r,b)||void 0===b.left[r]&&(l=new t(void 0,b.right[r]),b.push(l,r));if(!b.children||0===b.children.length)return void b.setResult(void 0).exit();b.exit()}}Te.filterName="trivial",qe.filterName="collectChildren",Ke.filterName="objects";var Re=function(r){if(r.nested&&!r.delta._t){var l=void 0,o=void 0;for(l in r.delta)o=new De(r.left[l],r.delta[l]),r.push(o,l);r.exit()}};Re.filterName="objects";var K=function(r){if(r&&r.children&&!r.delta._t){for(var l=r.children.length,o=void 0,u=0;u<l;u++)o=r.children[u],Object.prototype.hasOwnProperty.call(r.left,o.childName)&&void 0===o.result?delete r.left[o.childName]:r.left[o.childName]!==o.result&&(r.left[o.childName]=o.result);r.setResult(r.left).exit()}};K.filterName="collectChildren";var Ot=function(r){if(r.nested&&!r.delta._t){var l=void 0,o=void 0;for(l in r.delta)o=new Le(r.delta[l]),r.push(o,l);r.exit()}};function He(b){if(b&&b.children&&!b.delta._t){for(var r=b.children.length,l=void 0,o={},u=0;u<r;u++)o[(l=b.children[u]).childName]!==l.result&&(o[l.childName]=l.result);b.setResult(o).exit()}}Ot.filterName="objects",He.filterName="collectChildren";var Dt=function(r,l,o,u){return r[o]===l[u]},Et_get=function(r,l,o,u){var s=u||{},c=function(r,l,o,u){var s=r.length,c=l.length,d=void 0,h=void 0,g=[s+1];for(d=0;d<s+1;d++)for(g[d]=[c+1],h=0;h<c+1;h++)g[d][h]=0;for(g.match=o,d=1;d<s+1;d++)for(h=1;h<c+1;h++)g[d][h]=o(r,l,d-1,h-1,u)?g[d-1][h-1]+1:Math.max(g[d-1][h],g[d][h-1]);return g}(r,l,o||Dt,s),d=function(r,l,o,u){for(var s=l.length,c=o.length,d={sequence:[],indices1:[],indices2:[]};0!==s&&0!==c;)r.match(l,o,s-1,c-1,u)?(d.sequence.unshift(l[s-1]),d.indices1.unshift(s-1),d.indices2.unshift(c-1),--s,--c):r[s][c-1]>r[s-1][c]?--c:--s;return d}(c,r,l,s);return"string"==typeof r&&"string"==typeof l&&(d.sequence=d.sequence.join("")),d},z="function"==typeof Array.isArray?Array.isArray:function(b){return b instanceof Array},et="function"==typeof Array.prototype.indexOf?function(b,r){return b.indexOf(r)}:function(b,r){for(var l=b.length,o=0;o<l;o++)if(b[o]===r)return o;return-1};function be(b,r,l,o,u){var s=b[l],c=r[o];if(s===c)return!0;if("object"!==(void 0===s?"undefined":q(s))||"object"!==(void 0===c?"undefined":q(c)))return!1;var d=u.objectHash;if(!d)return u.matchByPosition&&l===o;var h=void 0,g=void 0;return"number"==typeof l?(u.hashCache1=u.hashCache1||[],void 0===(h=u.hashCache1[l])&&(u.hashCache1[l]=h=d(s,l))):h=d(s),void 0!==h&&("number"==typeof o?(u.hashCache2=u.hashCache2||[],void 0===(g=u.hashCache2[o])&&(u.hashCache2[o]=g=d(c,o))):g=d(c),void 0!==g)&&h===g}var tt=function(r){if(r.leftIsArray){var l={objectHash:r.options&&r.options.objectHash,matchByPosition:r.options&&r.options.matchByPosition},o=0,u=0,s=void 0,c=void 0,d=void 0,h=r.left,g=r.right,p=h.length,v=g.length,_=void 0;for(p>0&&v>0&&!l.objectHash&&"boolean"!=typeof l.matchByPosition&&(l.matchByPosition=!function Mt(b,r,l,o){for(var u=0;u<l;u++)for(var s=b[u],c=0;c<o;c++)if(u!==c&&s===r[c])return!0}(h,g,p,v));o<p&&o<v&&be(h,g,o,o,l);)_=new t(r.left[s=o],r.right[s]),r.push(_,s),o++;for(;u+o<p&&u+o<v&&be(h,g,p-1-u,v-1-u,l);)_=new t(r.left[c=p-1-u],r.right[d=v-1-u]),r.push(_,d),u++;var y=void 0;if(o+u===p){if(p===v)return void r.setResult(void 0).exit();for(y=y||{_t:"a"},s=o;s<v-u;s++)y[s]=[g[s]];return void r.setResult(y).exit()}if(o+u===v){for(y=y||{_t:"a"},s=o;s<p-u;s++)y["_"+s]=[h[s],0,0];return void r.setResult(y).exit()}delete l.hashCache1,delete l.hashCache2;var w=h.slice(o,p-u),C=g.slice(o,v-u),S=Et_get(w,C,be,l),k=[];for(y=y||{_t:"a"},s=o;s<p-u;s++)et(S.indices1,s-o)<0&&(y["_"+s]=[h[s],0,0],k.push(s));var D=!0;r.options&&r.options.arrays&&!1===r.options.arrays.detectMove&&(D=!1);var A=!1;r.options&&r.options.arrays&&r.options.arrays.includeValueOnMove&&(A=!0);var L=k.length;for(s=o;s<v-u;s++){var F=et(S.indices2,s-o);if(F<0){var M=!1;if(D&&L>0)for(var N=0;N<L;N++)if(be(w,C,(c=k[N])-o,s-o,l)){y["_"+c].splice(1,2,s,3),A||(y["_"+c][0]=""),_=new t(r.left[c],r.right[d=s]),r.push(_,d),k.splice(N,1),M=!0;break}M||(y[s]=[g[s]])}else _=new t(r.left[c=S.indices1[F]+o],r.right[d=S.indices2[F]+o]),r.push(_,d)}r.setResult(y).exit()}};tt.filterName="arrays";var nt_numerically=function(r,l){return r-l},nt_numericallyBy=function(r){return function(l,o){return l[r]-o[r]}},Fe=function(r){if(r.nested&&"a"===r.delta._t){var l=void 0,o=void 0,u=r.delta,s=r.left,c=[],d=[],h=[];for(l in u)if("_t"!==l)if("_"===l[0]){if(0!==u[l][2]&&3!==u[l][2])throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+u[l][2]);c.push(parseInt(l.slice(1),10))}else 1===u[l].length?d.push({index:parseInt(l,10),value:u[l][0]}):h.push({index:parseInt(l,10),delta:u[l]});for(l=(c=c.sort(nt_numerically)).length-1;l>=0;l--){var g=u["_"+(o=c[l])],p=s.splice(o,1)[0];3===g[2]&&d.push({index:g[1],value:p})}var v=(d=d.sort(nt_numericallyBy("index"))).length;for(l=0;l<v;l++){var _=d[l];s.splice(_.index,0,_.value)}var y=h.length,w=void 0;if(y>0)for(l=0;l<y;l++){var C=h[l];w=new De(r.left[C.index],C.delta),r.push(w,C.index)}if(!r.children)return void r.setResult(r.left).exit();r.exit()}};Fe.filterName="arrays";var it=function(r){if(r&&r.children&&"a"===r.delta._t){for(var l=r.children.length,o=void 0,u=0;u<l;u++)r.left[(o=r.children[u]).childName]=o.result;r.setResult(r.left).exit()}};it.filterName="arraysCollectChildren";var rt=function(r){if(r.nested){if("a"===r.delta._t){var l=void 0,o=void 0;for(l in r.delta)"_t"!==l&&(o=new Le(r.delta[l]),r.push(o,l));r.exit()}}else 3===r.delta[2]&&(r.newName="_"+r.delta[1],r.setResult([r.delta[0],parseInt(r.childName.substr(1),10),3]).exit())};rt.filterName="arrays";var xt=function(r,l,o){if("string"==typeof l&&"_"===l[0])return parseInt(l.substr(1),10);if(z(o)&&0===o[2])return"_"+l;var u=+l;for(var s in r){var c=r[s];if(z(c))if(3===c[2]){var d=parseInt(s.substr(1),10),h=c[1];if(h===+l)return d;d<=u&&h>u?u++:d>=u&&h<u&&u--}else 0===c[2]?parseInt(s.substr(1),10)<=u&&u++:1===c.length&&s<=u&&u--}return u};function ue(b){if(b&&b.children&&"a"===b.delta._t){for(var r=b.children.length,l=void 0,o={_t:"a"},u=0;u<r;u++){var s=(l=b.children[u]).newName;void 0===s&&(s=xt(b.delta,l.childName,l.result)),o[s]!==l.result&&(o[s]=l.result)}b.setResult(o).exit()}}ue.filterName="arraysCollectChildren";var st=function(r){r.left instanceof Date?(r.right instanceof Date?r.left.getTime()!==r.right.getTime()?r.setResult([r.left,r.right]):r.setResult(void 0):r.setResult([r.left,r.right]),r.exit()):r.right instanceof Date&&r.setResult([r.left,r.right]).exit()};st.filterName="dates";var Be=function at(b,r){return b(r={exports:{}},r.exports),r.exports}(function(b){function r(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var l=-1;r.prototype.diff_main=function(s,c,d,h){void 0===h&&(h=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var g=h;if(null==s||null==c)throw new Error("Null input. (diff_main)");if(s==c)return s?[[0,s]]:[];void 0===d&&(d=!0);var p=d,v=this.diff_commonPrefix(s,c),_=s.substring(0,v);s=s.substring(v),c=c.substring(v),v=this.diff_commonSuffix(s,c);var y=s.substring(s.length-v);s=s.substring(0,s.length-v),c=c.substring(0,c.length-v);var w=this.diff_compute_(s,c,p,g);return _&&w.unshift([0,_]),y&&w.push([0,y]),this.diff_cleanupMerge(w),w},r.prototype.diff_compute_=function(s,c,d,h){var g;if(!s)return[[1,c]];if(!c)return[[l,s]];var p=s.length>c.length?s:c,v=s.length>c.length?c:s,_=p.indexOf(v);if(-1!=_)return g=[[1,p.substring(0,_)],[0,v],[1,p.substring(_+v.length)]],s.length>c.length&&(g[0][0]=g[2][0]=l),g;if(1==v.length)return[[l,s],[1,c]];var y=this.diff_halfMatch_(s,c);if(y){var C=y[1],k=y[3],D=y[4],A=this.diff_main(y[0],y[2],d,h),L=this.diff_main(C,k,d,h);return A.concat([[0,D]],L)}return d&&s.length>100&&c.length>100?this.diff_lineMode_(s,c,h):this.diff_bisect_(s,c,h)},r.prototype.diff_lineMode_=function(s,c,d){s=(h=this.diff_linesToChars_(s,c)).chars1;var g=h.lineArray,p=this.diff_main(s,c=h.chars2,!1,d);this.diff_charsToLines_(p,g),this.diff_cleanupSemantic(p),p.push([0,""]);for(var v=0,_=0,y=0,w="",C="";v<p.length;){switch(p[v][0]){case 1:y++,C+=p[v][1];break;case l:_++,w+=p[v][1];break;case 0:if(_>=1&&y>=1){p.splice(v-_-y,_+y),v=v-_-y;for(var h,S=(h=this.diff_main(w,C,!1,d)).length-1;S>=0;S--)p.splice(v,0,h[S]);v+=h.length}y=0,_=0,w="",C=""}v++}return p.pop(),p},r.prototype.diff_bisect_=function(s,c,d){for(var h=s.length,g=c.length,p=Math.ceil((h+g)/2),v=p,_=2*p,y=new Array(_),w=new Array(_),C=0;C<_;C++)y[C]=-1,w[C]=-1;y[v+1]=0,w[v+1]=0;for(var S=h-g,k=S%2!=0,D=0,A=0,L=0,F=0,M=0;M<p&&!((new Date).getTime()>d);M++){for(var N=-M+D;N<=M-A;N+=2){for(var B=v+N,Z=(j=N==-M||N!=M&&y[B-1]<y[B+1]?y[B+1]:y[B-1]+1)-N;j<h&&Z<g&&s.charAt(j)==c.charAt(Z);)j++,Z++;if(y[B]=j,j>h)A+=2;else if(Z>g)D+=2;else if(k&&($=v+S-N)>=0&&$<_&&-1!=w[$]&&j>=(U=h-w[$]))return this.diff_bisectSplit_(s,c,j,Z,d)}for(var V=-M+L;V<=M-F;V+=2){for(var U,$=v+V,te=(U=V==-M||V!=M&&w[$-1]<w[$+1]?w[$+1]:w[$-1]+1)-V;U<h&&te<g&&s.charAt(h-U-1)==c.charAt(g-te-1);)U++,te++;if(w[$]=U,U>h)F+=2;else if(te>g)L+=2;else if(!k){var j;if((B=v+S-V)>=0&&B<_&&-1!=y[B]&&(Z=v+(j=y[B])-B,j>=(U=h-U)))return this.diff_bisectSplit_(s,c,j,Z,d)}}}return[[l,s],[1,c]]},r.prototype.diff_bisectSplit_=function(s,c,d,h,g){var p=s.substring(0,d),v=c.substring(0,h),_=s.substring(d),y=c.substring(h),w=this.diff_main(p,v,!1,g),C=this.diff_main(_,y,!1,g);return w.concat(C)},r.prototype.diff_linesToChars_=function(s,c){var d=[],h={};function g(_){for(var y="",w=0,C=-1,S=d.length;C<_.length-1;){-1==(C=_.indexOf("\n",w))&&(C=_.length-1);var k=_.substring(w,C+1);w=C+1,(h.hasOwnProperty?h.hasOwnProperty(k):void 0!==h[k])?y+=String.fromCharCode(h[k]):(y+=String.fromCharCode(S),h[k]=S,d[S++]=k)}return y}return d[0]="",{chars1:g(s),chars2:g(c),lineArray:d}},r.prototype.diff_charsToLines_=function(s,c){for(var d=0;d<s.length;d++){for(var h=s[d][1],g=[],p=0;p<h.length;p++)g[p]=c[h.charCodeAt(p)];s[d][1]=g.join("")}},r.prototype.diff_commonPrefix=function(s,c){if(!s||!c||s.charAt(0)!=c.charAt(0))return 0;for(var d=0,h=Math.min(s.length,c.length),g=h,p=0;d<g;)s.substring(p,g)==c.substring(p,g)?p=d=g:h=g,g=Math.floor((h-d)/2+d);return g},r.prototype.diff_commonSuffix=function(s,c){if(!s||!c||s.charAt(s.length-1)!=c.charAt(c.length-1))return 0;for(var d=0,h=Math.min(s.length,c.length),g=h,p=0;d<g;)s.substring(s.length-g,s.length-p)==c.substring(c.length-g,c.length-p)?p=d=g:h=g,g=Math.floor((h-d)/2+d);return g},r.prototype.diff_commonOverlap_=function(s,c){var d=s.length,h=c.length;if(0==d||0==h)return 0;d>h?s=s.substring(d-h):d<h&&(c=c.substring(0,d));var g=Math.min(d,h);if(s==c)return g;for(var p=0,v=1;;){var _=s.substring(g-v),y=c.indexOf(_);if(-1==y)return p;v+=y,(0==y||s.substring(g-v)==c.substring(0,v))&&(p=v,v++)}},r.prototype.diff_halfMatch_=function(s,c){if(this.Diff_Timeout<=0)return null;var d=s.length>c.length?s:c,h=s.length>c.length?c:s;if(d.length<4||2*h.length<d.length)return null;var g=this;function p(A,L,F){for(var j,Z,$,U,M=A.substring(F,F+Math.floor(A.length/4)),N=-1,B="";-1!=(N=L.indexOf(M,N+1));){var V=g.diff_commonPrefix(A.substring(F),L.substring(N)),te=g.diff_commonSuffix(A.substring(0,F),L.substring(0,N));B.length<te+V&&(B=L.substring(N-te,N)+L.substring(N,N+V),j=A.substring(0,F-te),Z=A.substring(F+V),$=L.substring(0,N-te),U=L.substring(N+V))}return 2*B.length>=A.length?[j,Z,$,U,B]:null}var y,w,C,S,k,v=p(d,h,Math.ceil(d.length/4)),_=p(d,h,Math.ceil(d.length/2));return v||_?(y=_?v&&v[4].length>_[4].length?v:_:v,s.length>c.length?(w=y[0],C=y[1],S=y[2],k=y[3]):(S=y[0],k=y[1],w=y[2],C=y[3]),[w,C,S,k,y[4]]):null},r.prototype.diff_cleanupSemantic=function(s){for(var c=!1,d=[],h=0,g=null,p=0,v=0,_=0,y=0,w=0;p<s.length;)0==s[p][0]?(d[h++]=p,v=y,_=w,y=0,w=0,g=s[p][1]):(1==s[p][0]?y+=s[p][1].length:w+=s[p][1].length,g&&g.length<=Math.max(v,_)&&g.length<=Math.max(y,w)&&(s.splice(d[h-1],0,[l,g]),s[d[h-1]+1][0]=1,h--,p=--h>0?d[h-1]:-1,v=0,_=0,y=0,w=0,g=null,c=!0)),p++;for(c&&this.diff_cleanupMerge(s),this.diff_cleanupSemanticLossless(s),p=1;p<s.length;){if(s[p-1][0]==l&&1==s[p][0]){var C=s[p-1][1],S=s[p][1],k=this.diff_commonOverlap_(C,S),D=this.diff_commonOverlap_(S,C);k>=D?(k>=C.length/2||k>=S.length/2)&&(s.splice(p,0,[0,S.substring(0,k)]),s[p-1][1]=C.substring(0,C.length-k),s[p+1][1]=S.substring(k),p++):(D>=C.length/2||D>=S.length/2)&&(s.splice(p,0,[0,C.substring(0,D)]),s[p-1][0]=1,s[p-1][1]=S.substring(0,S.length-D),s[p+1][0]=l,s[p+1][1]=C.substring(D),p++),p++}p++}},r.prototype.diff_cleanupSemanticLossless=function(s){function c(D,A){if(!D||!A)return 6;var L=D.charAt(D.length-1),F=A.charAt(0),M=L.match(r.nonAlphaNumericRegex_),N=F.match(r.nonAlphaNumericRegex_),B=M&&L.match(r.whitespaceRegex_),j=N&&F.match(r.whitespaceRegex_),Z=B&&L.match(r.linebreakRegex_),$=j&&F.match(r.linebreakRegex_),U=Z&&D.match(r.blanklineEndRegex_),V=$&&A.match(r.blanklineStartRegex_);return U||V?5:Z||$?4:M&&!B&&j?3:B||j?2:M||N?1:0}for(var d=1;d<s.length-1;){if(0==s[d-1][0]&&0==s[d+1][0]){var h=s[d-1][1],g=s[d][1],p=s[d+1][1],v=this.diff_commonSuffix(h,g);if(v){var _=g.substring(g.length-v);h=h.substring(0,h.length-v),g=_+g.substring(0,g.length-v),p=_+p}for(var y=h,w=g,C=p,S=c(h,g)+c(g,p);g.charAt(0)===p.charAt(0);){h+=g.charAt(0),g=g.substring(1)+p.charAt(0),p=p.substring(1);var k=c(h,g)+c(g,p);k>=S&&(S=k,y=h,w=g,C=p)}s[d-1][1]!=y&&(y?s[d-1][1]=y:(s.splice(d-1,1),d--),s[d][1]=w,C?s[d+1][1]=C:(s.splice(d+1,1),d--))}d++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(s){for(var c=!1,d=[],h=0,g=null,p=0,v=!1,_=!1,y=!1,w=!1;p<s.length;)0==s[p][0]?(s[p][1].length<this.Diff_EditCost&&(y||w)?(d[h++]=p,v=y,_=w,g=s[p][1]):(h=0,g=null),y=w=!1):(s[p][0]==l?w=!0:y=!0,g&&(v&&_&&y&&w||g.length<this.Diff_EditCost/2&&v+_+y+w==3)&&(s.splice(d[h-1],0,[l,g]),s[d[h-1]+1][0]=1,h--,g=null,v&&_?(y=w=!0,h=0):(p=--h>0?d[h-1]:-1,y=w=!1),c=!0)),p++;c&&this.diff_cleanupMerge(s)},r.prototype.diff_cleanupMerge=function(s){s.push([0,""]);for(var v,c=0,d=0,h=0,g="",p="";c<s.length;)switch(s[c][0]){case 1:h++,p+=s[c][1],c++;break;case l:d++,g+=s[c][1],c++;break;case 0:d+h>1?(0!==d&&0!==h&&(0!==(v=this.diff_commonPrefix(p,g))&&(c-d-h>0&&0==s[c-d-h-1][0]?s[c-d-h-1][1]+=p.substring(0,v):(s.splice(0,0,[0,p.substring(0,v)]),c++),p=p.substring(v),g=g.substring(v)),0!==(v=this.diff_commonSuffix(p,g))&&(s[c][1]=p.substring(p.length-v)+s[c][1],p=p.substring(0,p.length-v),g=g.substring(0,g.length-v))),0===d?s.splice(c-h,d+h,[1,p]):0===h?s.splice(c-d,d+h,[l,g]):s.splice(c-d-h,d+h,[l,g],[1,p]),c=c-d-h+(d?1:0)+(h?1:0)+1):0!==c&&0==s[c-1][0]?(s[c-1][1]+=s[c][1],s.splice(c,1)):c++,h=0,d=0,g="",p=""}""===s[s.length-1][1]&&s.pop();var _=!1;for(c=1;c<s.length-1;)0==s[c-1][0]&&0==s[c+1][0]&&(s[c][1].substring(s[c][1].length-s[c-1][1].length)==s[c-1][1]?(s[c][1]=s[c-1][1]+s[c][1].substring(0,s[c][1].length-s[c-1][1].length),s[c+1][1]=s[c-1][1]+s[c+1][1],s.splice(c-1,1),_=!0):s[c][1].substring(0,s[c+1][1].length)==s[c+1][1]&&(s[c-1][1]+=s[c+1][1],s[c][1]=s[c][1].substring(s[c+1][1].length)+s[c+1][1],s.splice(c+1,1),_=!0)),c++;_&&this.diff_cleanupMerge(s)},r.prototype.diff_xIndex=function(s,c){var v,d=0,h=0,g=0,p=0;for(v=0;v<s.length&&(1!==s[v][0]&&(d+=s[v][1].length),s[v][0]!==l&&(h+=s[v][1].length),!(d>c));v++)g=d,p=h;return s.length!=v&&s[v][0]===l?p:p+(c-g)},r.prototype.diff_prettyHtml=function(s){for(var c=[],d=/&/g,h=/</g,g=/>/g,p=/\n/g,v=0;v<s.length;v++){var _=s[v][0],w=s[v][1].replace(d,"&amp;").replace(h,"&lt;").replace(g,"&gt;").replace(p,"&para;<br>");switch(_){case 1:c[v]='<ins style="background:#e6ffe6;">'+w+"</ins>";break;case l:c[v]='<del style="background:#ffe6e6;">'+w+"</del>";break;case 0:c[v]="<span>"+w+"</span>"}}return c.join("")},r.prototype.diff_text1=function(s){for(var c=[],d=0;d<s.length;d++)1!==s[d][0]&&(c[d]=s[d][1]);return c.join("")},r.prototype.diff_text2=function(s){for(var c=[],d=0;d<s.length;d++)s[d][0]!==l&&(c[d]=s[d][1]);return c.join("")},r.prototype.diff_levenshtein=function(s){for(var c=0,d=0,h=0,g=0;g<s.length;g++){var v=s[g][1];switch(s[g][0]){case 1:d+=v.length;break;case l:h+=v.length;break;case 0:c+=Math.max(d,h),d=0,h=0}}return c+Math.max(d,h)},r.prototype.diff_toDelta=function(s){for(var c=[],d=0;d<s.length;d++)switch(s[d][0]){case 1:c[d]="+"+encodeURI(s[d][1]);break;case l:c[d]="-"+s[d][1].length;break;case 0:c[d]="="+s[d][1].length}return c.join("\t").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(s,c){for(var d=[],h=0,g=0,p=c.split(/\t/g),v=0;v<p.length;v++){var _=p[v].substring(1);switch(p[v].charAt(0)){case"+":try{d[h++]=[1,decodeURI(_)]}catch(C){throw new Error("Illegal escape in diff_fromDelta: "+_)}break;case"-":case"=":var y=parseInt(_,10);if(isNaN(y)||y<0)throw new Error("Invalid number in diff_fromDelta: "+_);var w=s.substring(g,g+=y);"="==p[v].charAt(0)?d[h++]=[0,w]:d[h++]=[l,w];break;default:if(p[v])throw new Error("Invalid diff operation in diff_fromDelta: "+p[v])}}if(g!=s.length)throw new Error("Delta length ("+g+") does not equal source text length ("+s.length+").");return d},r.prototype.match_main=function(s,c,d){if(null==s||null==c||null==d)throw new Error("Null input. (match_main)");return d=Math.max(0,Math.min(d,s.length)),s==c?0:s.length?s.substring(d,d+c.length)==c?d:this.match_bitap_(s,c,d):-1},r.prototype.match_bitap_=function(s,c,d){if(c.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var h=this.match_alphabet_(c),g=this;function p(j,Z){var $=j/c.length,U=Math.abs(d-Z);return g.Match_Distance?$+U/g.Match_Distance:U?1:$}var v=this.Match_Threshold,_=s.indexOf(c,d);-1!=_&&(v=Math.min(p(0,_),v),-1!=(_=s.lastIndexOf(c,d+c.length))&&(v=Math.min(p(0,_),v)));var y=1<<c.length-1;_=-1;for(var w,C,k,S=c.length+s.length,D=0;D<c.length;D++){for(w=0,C=S;w<C;)p(D,d+C)<=v?w=C:S=C,C=Math.floor((S-w)/2+w);S=C;var A=Math.max(1,d-C+1),L=Math.min(d+C,s.length)+c.length,F=Array(L+2);F[L+1]=(1<<D)-1;for(var M=L;M>=A;M--){var N=h[s.charAt(M-1)];if(F[M]=0===D?(F[M+1]<<1|1)&N:(F[M+1]<<1|1)&N|(k[M+1]|k[M])<<1|1|k[M+1],F[M]&y){var B=p(D,M-1);if(B<=v){if(v=B,!((_=M-1)>d))break;A=Math.max(1,2*d-_)}}}if(p(D+1,d)>v)break;k=F}return _},r.prototype.match_alphabet_=function(s){for(var c={},d=0;d<s.length;d++)c[s.charAt(d)]=0;for(d=0;d<s.length;d++)c[s.charAt(d)]|=1<<s.length-d-1;return c},r.prototype.patch_addContext_=function(s,c){if(0!=c.length){for(var d=c.substring(s.start2,s.start2+s.length1),h=0;c.indexOf(d)!=c.lastIndexOf(d)&&d.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)d=c.substring(s.start2-(h+=this.Patch_Margin),s.start2+s.length1+h);var g=c.substring(s.start2-(h+=this.Patch_Margin),s.start2);g&&s.diffs.unshift([0,g]);var p=c.substring(s.start2+s.length1,s.start2+s.length1+h);p&&s.diffs.push([0,p]),s.start1-=g.length,s.start2-=g.length,s.length1+=g.length+p.length,s.length2+=g.length+p.length}},r.prototype.patch_make=function(s,c,d){var h,g;if("string"==typeof s&&"string"==typeof c&&void 0===d)(g=this.diff_main(h=s,c,!0)).length>2&&(this.diff_cleanupSemantic(g),this.diff_cleanupEfficiency(g));else if(s&&"object"==typeof s&&void 0===c&&void 0===d)h=this.diff_text1(g=s);else if("string"==typeof s&&c&&"object"==typeof c&&void 0===d)h=s,g=c;else{if("string"!=typeof s||"string"!=typeof c||!d||"object"!=typeof d)throw new Error("Unknown call format to patch_make.");h=s,g=d}if(0===g.length)return[];for(var p=[],v=new r.patch_obj,_=0,y=0,w=0,C=h,S=h,k=0;k<g.length;k++){var D=g[k][0],A=g[k][1];switch(!_&&0!==D&&(v.start1=y,v.start2=w),D){case 1:v.diffs[_++]=g[k],v.length2+=A.length,S=S.substring(0,w)+A+S.substring(w);break;case l:v.length1+=A.length,v.diffs[_++]=g[k],S=S.substring(0,w)+S.substring(w+A.length);break;case 0:A.length<=2*this.Patch_Margin&&_&&g.length!=k+1?(v.diffs[_++]=g[k],v.length1+=A.length,v.length2+=A.length):A.length>=2*this.Patch_Margin&&_&&(this.patch_addContext_(v,C),p.push(v),v=new r.patch_obj,_=0,C=S,y=w)}1!==D&&(y+=A.length),D!==l&&(w+=A.length)}return _&&(this.patch_addContext_(v,C),p.push(v)),p},r.prototype.patch_deepCopy=function(s){for(var c=[],d=0;d<s.length;d++){var h=s[d],g=new r.patch_obj;g.diffs=[];for(var p=0;p<h.diffs.length;p++)g.diffs[p]=h.diffs[p].slice();g.start1=h.start1,g.start2=h.start2,g.length1=h.length1,g.length2=h.length2,c[d]=g}return c},r.prototype.patch_apply=function(s,c){if(0==s.length)return[c,[]];s=this.patch_deepCopy(s);var d=this.patch_addPadding(s);c=d+c+d,this.patch_splitMax(s);for(var h=0,g=[],p=0;p<s.length;p++){var y,C,v=s[p].start2+h,_=this.diff_text1(s[p].diffs),w=-1;if(_.length>this.Match_MaxBits?-1!=(y=this.match_main(c,_.substring(0,this.Match_MaxBits),v))&&(-1==(w=this.match_main(c,_.substring(_.length-this.Match_MaxBits),v+_.length-this.Match_MaxBits))||y>=w)&&(y=-1):y=this.match_main(c,_,v),-1==y)g[p]=!1,h-=s[p].length2-s[p].length1;else if(g[p]=!0,h=y-v,_==(C=c.substring(y,-1==w?y+_.length:w+this.Match_MaxBits)))c=c.substring(0,y)+this.diff_text2(s[p].diffs)+c.substring(y+_.length);else{var S=this.diff_main(_,C,!1);if(_.length>this.Match_MaxBits&&this.diff_levenshtein(S)/_.length>this.Patch_DeleteThreshold)g[p]=!1;else{this.diff_cleanupSemanticLossless(S);for(var D,k=0,A=0;A<s[p].diffs.length;A++){var L=s[p].diffs[A];0!==L[0]&&(D=this.diff_xIndex(S,k)),1===L[0]?c=c.substring(0,y+D)+L[1]+c.substring(y+D):L[0]===l&&(c=c.substring(0,y+D)+c.substring(y+this.diff_xIndex(S,k+L[1].length))),L[0]!==l&&(k+=L[1].length)}}}}return[c=c.substring(d.length,c.length-d.length),g]},r.prototype.patch_addPadding=function(s){for(var c=this.Patch_Margin,d="",h=1;h<=c;h++)d+=String.fromCharCode(h);for(h=0;h<s.length;h++)s[h].start1+=c,s[h].start2+=c;var g=s[0],p=g.diffs;if(0==p.length||0!=p[0][0])p.unshift([0,d]),g.start1-=c,g.start2-=c,g.length1+=c,g.length2+=c;else if(c>p[0][1].length){var v=c-p[0][1].length;p[0][1]=d.substring(p[0][1].length)+p[0][1],g.start1-=v,g.start2-=v,g.length1+=v,g.length2+=v}return 0==(p=(g=s[s.length-1]).diffs).length||0!=p[p.length-1][0]?(p.push([0,d]),g.length1+=c,g.length2+=c):c>p[p.length-1][1].length&&(p[p.length-1][1]+=d.substring(0,v=c-p[p.length-1][1].length),g.length1+=v,g.length2+=v),d},r.prototype.patch_splitMax=function(s){for(var c=this.Match_MaxBits,d=0;d<s.length;d++)if(!(s[d].length1<=c)){var h=s[d];s.splice(d--,1);for(var g=h.start1,p=h.start2,v="";0!==h.diffs.length;){var _=new r.patch_obj,y=!0;for(_.start1=g-v.length,_.start2=p-v.length,""!==v&&(_.length1=_.length2=v.length,_.diffs.push([0,v]));0!==h.diffs.length&&_.length1<c-this.Patch_Margin;){var w=h.diffs[0][0],C=h.diffs[0][1];1===w?(_.length2+=C.length,p+=C.length,_.diffs.push(h.diffs.shift()),y=!1):w===l&&1==_.diffs.length&&0==_.diffs[0][0]&&C.length>2*c?(_.length1+=C.length,g+=C.length,y=!1,_.diffs.push([w,C]),h.diffs.shift()):(C=C.substring(0,c-_.length1-this.Patch_Margin),_.length1+=C.length,g+=C.length,0===w?(_.length2+=C.length,p+=C.length):y=!1,_.diffs.push([w,C]),C==h.diffs[0][1]?h.diffs.shift():h.diffs[0][1]=h.diffs[0][1].substring(C.length))}v=(v=this.diff_text2(_.diffs)).substring(v.length-this.Patch_Margin);var S=this.diff_text1(h.diffs).substring(0,this.Patch_Margin);""!==S&&(_.length1+=S.length,_.length2+=S.length,0!==_.diffs.length&&0===_.diffs[_.diffs.length-1][0]?_.diffs[_.diffs.length-1][1]+=S:_.diffs.push([0,S])),y||s.splice(++d,0,_)}}},r.prototype.patch_toText=function(s){for(var c=[],d=0;d<s.length;d++)c[d]=s[d];return c.join("")},r.prototype.patch_fromText=function(s){var c=[];if(!s)return c;for(var d=s.split("\n"),h=0,g=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;h<d.length;){var p=d[h].match(g);if(!p)throw new Error("Invalid patch string: "+d[h]);var v=new r.patch_obj;for(c.push(v),v.start1=parseInt(p[1],10),""===p[2]?(v.start1--,v.length1=1):"0"==p[2]?v.length1=0:(v.start1--,v.length1=parseInt(p[2],10)),v.start2=parseInt(p[3],10),""===p[4]?(v.start2--,v.length2=1):"0"==p[4]?v.length2=0:(v.start2--,v.length2=parseInt(p[4],10)),h++;h<d.length;){var _=d[h].charAt(0);try{var y=decodeURI(d[h].substring(1))}catch(w){throw new Error("Illegal escape in patch_fromText: "+y)}if("-"==_)v.diffs.push([l,y]);else if("+"==_)v.diffs.push([1,y]);else if(" "==_)v.diffs.push([0,y]);else{if("@"==_)break;if(""!==_)throw new Error('Invalid patch mode "'+_+'" in: '+y)}h++}}return c},(r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var h,d=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],g=0;g<this.diffs.length;g++){switch(this.diffs[g][0]){case 1:h="+";break;case l:h="-";break;case 0:h=" "}d[g+1]=h+encodeURI(this.diffs[g][1])+"\n"}return d.join("").replace(/%20/g," ")},b.exports=r,b.exports.diff_match_patch=r,b.exports.DIFF_DELETE=l,b.exports.DIFF_INSERT=1,b.exports.DIFF_EQUAL=0}),je=null,ot=function(r){if(!je){var l=void 0;if("undefined"!=typeof diff_match_patch)l="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if(Be)try{l=Be&&new Be}catch(u){l=null}if(!l){if(!r)return null;var o=new Error("text diff_match_patch library not found");throw o.diff_match_patch_not_found=!0,o}je={diff:function(s,c){return l.patch_toText(l.patch_make(s,c))},patch:function(s,c){for(var d=l.patch_apply(l.patch_fromText(c),s),h=0;h<d[1].length;h++)d[1][h]||(new Error("text patch failed").textPatchFailed=!0);return d[0]}}}return je},Pe=function(r){if("string"===r.leftType){var l=r.options&&r.options.textDiff&&r.options.textDiff.minLength||60;if(r.left.length<l||r.right.length<l)return void r.setResult([r.left,r.right]).exit();var o=ot();if(!o)return void r.setResult([r.left,r.right]).exit();r.setResult([(0,o.diff)(r.left,r.right),0,2]).exit()}};Pe.filterName="texts";var lt=function(r){if(!r.nested&&2===r.delta[2]){var l=ot(!0).patch;r.setResult(l(r.left,r.delta[0])).exit()}};lt.filterName="texts";var ct=function(r){var o,l=void 0,u=void 0,s=void 0,c=void 0,d=null,h=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(l=0,o=(u=r.split("\n")).length;l<o;l++){var p=(s=u[l]).slice(0,1);"@"===p?(d=h.exec(s),u[l]="@@ -"+d[3]+","+d[4]+" +"+d[1]+","+d[2]+" @@"):"+"===p?(u[l]="-"+u[l].slice(1),"+"===u[l-1].slice(0,1)&&(c=u[l],u[l]=u[l-1],u[l-1]=c)):"-"===p&&(u[l]="+"+u[l].slice(1))}return u.join("\n")},Ue=function(r){r.nested||2===r.delta[2]&&r.setResult([ct(r.delta[0]),0,2]).exit()};Ue.filterName="texts";var X=function(){function b(r){Y(this,b),this.processor=new We(r),this.processor.pipe(new le("diff").append(qe,we,st,Pe,Ke,tt).shouldHaveResult()),this.processor.pipe(new le("patch").append(K,it,Ne,lt,Re,Fe).shouldHaveResult()),this.processor.pipe(new le("reverse").append(He,ue,Te,Ue,Ot,rt).shouldHaveResult())}return G(b,[{key:"options",value:function(){var l;return(l=this.processor).options.apply(l,arguments)}},{key:"diff",value:function(l,o){return this.processor.process(new t(l,o))}},{key:"patch",value:function(l,o){return this.processor.process(new De(l,o))}},{key:"reverse",value:function(l){return this.processor.process(new Le(l))}},{key:"unpatch",value:function(l,o){return this.patch(l,this.reverse(o))}},{key:"clone",value:function(l){return me(l)}}]),b}(),ie="function"==typeof Array.isArray?Array.isArray:function(b){return b instanceof Array},Nt="function"==typeof Object.keys?function(b){return Object.keys(b)}:function(b){var r=[];for(var l in b)Object.prototype.hasOwnProperty.call(b,l)&&r.push(l);return r},Se=function(r){return"_t"===r?-1:"_"===r.substr(0,1)?parseInt(r.slice(1),10):parseInt(r,10)+.1},de=function(r,l){return Se(r)-Se(l)},ke=function(){function b(){Y(this,b)}return G(b,[{key:"format",value:function(l,o){var u={};return this.prepareContext(u),this.recurse(u,l,o),this.finalize(u)}},{key:"prepareContext",value:function(l){l.buffer=[],l.out=function(){var o;(o=this.buffer).push.apply(o,arguments)}}},{key:"typeFormattterNotFound",value:function(l,o){throw new Error("cannot format delta type: "+o)}},{key:"typeFormattterErrorFormatter",value:function(l,o){return o.toString()}},{key:"finalize",value:function(l){var o=l.buffer;if(ie(o))return o.join("")}},{key:"recurse",value:function(l,o,u,s,c,d,h){var p=o&&d?d.value:u;if(void 0!==o||void 0!==s){var v=this.getDeltaType(o,d),_="node"===v?"a"===o._t?"array":"object":"";void 0!==s?this.nodeBegin(l,s,c,v,_,h):this.rootBegin(l,v,_);try{(this["format_"+v]||this.typeFormattterNotFound(l,v)).call(this,l,o,p,s,c,d)}catch(w){this.typeFormattterErrorFormatter(l,w,o,p,s,c,d),"undefined"!=typeof console&&console.error&&console.error(w.stack)}void 0!==s?this.nodeEnd(l,s,c,v,_,h):this.rootEnd(l,v,_)}}},{key:"formatDeltaChildren",value:function(l,o,u){var s=this;this.forEachDeltaKey(o,u,function(c,d,h,g){s.recurse(l,o[c],u?u[d]:void 0,c,d,h,g)})}},{key:"forEachDeltaKey",value:function(l,o,u){var r,s=Nt(l),c="a"===l._t,d={},h=void 0;if(void 0!==o)for(h in o)Object.prototype.hasOwnProperty.call(o,h)&&void 0===l[h]&&(!c||void 0===l["_"+h])&&s.push(h);for(h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var g=l[h];ie(g)&&3===g[2]&&(d[g[1].toString()]={key:h,value:o&&o[parseInt(h.substr(1))]},!1!==this.includeMoveDestinations&&void 0===o&&void 0===l[g[1]]&&s.push(g[1].toString()))}c?s.sort(de):s.sort();for(var p=0,v=s.length;p<v;p++){var _=s[p];if(!c||"_t"!==_){var y=c?"number"==typeof _?_:parseInt("_"===(r=_).substr(0,1)?r.slice(1):r,10):_;u(_,y,d[y],p===v-1)}}}},{key:"getDeltaType",value:function(l,o){if(void 0===l)return void 0!==o?"movedestination":"unchanged";if(ie(l)){if(1===l.length)return"added";if(2===l.length)return"modified";if(3===l.length&&0===l[2])return"deleted";if(3===l.length&&2===l[2])return"textdiff";if(3===l.length&&3===l[2])return"moved"}else if("object"===(void 0===l?"undefined":q(l)))return"node";return"unknown"}},{key:"parseTextDiff",value:function(l){for(var o=[],u=l.split("\n@@ "),s=0,c=u.length;s<c;s++){var d=u[s],h={pieces:[]},g=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(d).slice(1);h.location={line:g[0],chr:g[1]};for(var p=d.split("\n").slice(1),v=0,_=p.length;v<_;v++){var y=p[v];if(y.length){var w={type:"context"};"+"===y.substr(0,1)?w.type="added":"-"===y.substr(0,1)&&(w.type="deleted"),w.text=y.slice(1),h.pieces.push(w)}}o.push(h)}return o}}]),b}(),$e=Object.freeze({default:ke}),ut=function(b){function r(){return Y(this,r),oe(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return ne(r,b),G(r,[{key:"typeFormattterErrorFormatter",value:function(o,u){o.out('<pre class="jsondiffpatch-error">'+u+"</pre>")}},{key:"formatValue",value:function(o,u){o.out("<pre>"+dt(JSON.stringify(u,null,2))+"</pre>")}},{key:"formatTextDiffString",value:function(o,u){var s=this.parseTextDiff(u);o.out('<ul class="jsondiffpatch-textdiff">');for(var c=0,d=s.length;c<d;c++){var h=s[c];o.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+h.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+h.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var g=h.pieces,p=0,v=g.length;p<v;p++){var _=g[p];o.out('<span class="jsondiffpatch-textdiff-'+_.type+'">'+dt(decodeURI(_.text))+"</span>")}o.out("</div></li>")}o.out("</ul>")}},{key:"rootBegin",value:function(o,u,s){o.out('<div class="jsondiffpatch-delta jsondiffpatch-'+u+(s?" jsondiffpatch-child-node-type-"+s:"")+'">')}},{key:"rootEnd",value:function(o){o.out("</div>"+(o.hasArrows?'<script type="text/javascript">setTimeout('+ft.toString()+",10);<\/script>":""))}},{key:"nodeBegin",value:function(o,u,s,c,d){o.out('<li class="jsondiffpatch-'+c+(d?" jsondiffpatch-child-node-type-"+d:"")+'" data-key="'+s+'"><div class="jsondiffpatch-property-name">'+s+"</div>")}},{key:"nodeEnd",value:function(o){o.out("</li>")}},{key:"format_unchanged",value:function(o,u,s){void 0!==s&&(o.out('<div class="jsondiffpatch-value">'),this.formatValue(o,s),o.out("</div>"))}},{key:"format_movedestination",value:function(o,u,s){void 0!==s&&(o.out('<div class="jsondiffpatch-value">'),this.formatValue(o,s),o.out("</div>"))}},{key:"format_node",value:function(o,u,s){o.out('<ul class="jsondiffpatch-node jsondiffpatch-node-type-'+("a"===u._t?"array":"object")+'">'),this.formatDeltaChildren(o,u,s),o.out("</ul>")}},{key:"format_added",value:function(o,u){o.out('<div class="jsondiffpatch-value">'),this.formatValue(o,u[0]),o.out("</div>")}},{key:"format_modified",value:function(o,u){o.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(o,u[0]),o.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(o,u[1]),o.out("</div>")}},{key:"format_deleted",value:function(o,u){o.out('<div class="jsondiffpatch-value">'),this.formatValue(o,u[0]),o.out("</div>")}},{key:"format_moved",value:function(o,u){o.out('<div class="jsondiffpatch-value">'),this.formatValue(o,u[0]),o.out('</div><div class="jsondiffpatch-moved-destination">'+u[1]+"</div>"),o.out('<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">\n          <svg width="30" height="60" style="position: absolute; display: none;">\n          <defs>\n              <marker id="markerArrow" markerWidth="8" markerHeight="8"\n                 refx="2" refy="4"\n                     orient="auto" markerUnits="userSpaceOnUse">\n                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />\n              </marker>\n          </defs>\n          <path d="M30,0 Q-10,25 26,50"\n            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"\n          ></path>\n          </svg>\n      </div>'),o.hasArrows=!0}},{key:"format_textdiff",value:function(o,u){o.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(o,u[0]),o.out("</div>")}}]),r}(ke);function dt(b){for(var r=b,l=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],o=0;o<l.length;o++)r=r.replace(l[o][0],l[o][1]);return r}var ft=function(r){var l=r||document;!function(d,h,g){for(var p=d.querySelectorAll(".jsondiffpatch-arrow"),v=0,_=p.length;v<_;v++)g(p[v])}(l,0,function(c){var g=c.style,p=c.parentNode,v=c.children[0],_=v.children[1];v.style.display="none";var d,y=(d=p.querySelector(".jsondiffpatch-moved-destination")).textContent||d.innerText,C=void 0;if(function(d,h){for(var g=d.children,p=0,v=g.length;p<v;p++)h(g[p],p)}(p.parentNode,function(D){D.getAttribute("data-key")===y&&(C=D)}),C)try{var S=C.offsetTop-p.offsetTop;v.setAttribute("height",Math.abs(S)+6),g.top=-8+(S>0?0:S)+"px";var k=S>0?"M30,0 Q-10,"+Math.round(S/2)+" 26,"+(S-4):"M30,"+-S+" Q-10,"+Math.round(-S/2)+" 26,4";_.setAttribute("d",k),v.style.display=""}catch(D){}})},ht=function(r,l,o){var u=l||document.body,s="jsondiffpatch-unchanged-",c={showing:s+"showing",hiding:s+"hiding",visible:s+"visible",hidden:s+"hidden"},d=u.classList;if(d){if(!o)return d.remove(c.showing),d.remove(c.hiding),d.remove(c.visible),d.remove(c.hidden),void(!1===r&&d.add(c.hidden));!1===r?(d.remove(c.showing),d.add(c.visible),setTimeout(function(){d.add(c.hiding)},10)):(d.remove(c.hiding),d.add(c.showing),d.remove(c.hidden));var h=setInterval(function(){ft(u)},100);setTimeout(function(){d.remove(c.showing),d.remove(c.hiding),!1===r?(d.add(c.hidden),d.remove(c.visible)):(d.add(c.visible),d.remove(c.hidden)),setTimeout(function(){d.remove(c.visible),clearInterval(h)},o+400)},o)}},Je=void 0;var pt=Object.freeze({showUnchanged:ht,hideUnchanged:function(r,l){return ht(!1,r,l)},default:ut,format:function Qe(b,r){return Je||(Je=new ut),Je.format(b,r)}}),re=function(b){function r(){Y(this,r);var l=oe(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return l.includeMoveDestinations=!1,l}return ne(r,b),G(r,[{key:"prepareContext",value:function(o){ge(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"prepareContext",this).call(this,o),o.indent=function(u){this.indentLevel=(this.indentLevel||0)+(void 0===u?1:u),this.indentPad=new Array(this.indentLevel+1).join("&nbsp;&nbsp;")},o.row=function(u,s){o.out('<tr><td style="white-space: nowrap;"><pre class="jsondiffpatch-annotated-indent" style="display: inline-block">'),o.out(o.indentPad),o.out('</pre><pre style="display: inline-block">'),o.out(u),o.out('</pre></td><td class="jsondiffpatch-delta-note"><div>'),o.out(s),o.out("</div></td></tr>")}}},{key:"typeFormattterErrorFormatter",value:function(o,u){o.row("",'<pre class="jsondiffpatch-error">'+u+"</pre>")}},{key:"formatTextDiffString",value:function(o,u){var s=this.parseTextDiff(u);o.out('<ul class="jsondiffpatch-textdiff">');for(var c=0,d=s.length;c<d;c++){var h=s[c];o.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+h.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+h.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var g=h.pieces,p=0,v=g.length;p<v;p++){var _=g[p];o.out('<span class="jsondiffpatch-textdiff-'+_.type+'">'+_.text+"</span>")}o.out("</div></li>")}o.out("</ul>")}},{key:"rootBegin",value:function(o,u,s){o.out('<table class="jsondiffpatch-annotated-delta">'),"node"===u&&(o.row("{"),o.indent()),"array"===s&&o.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"rootEnd",value:function(o,u){"node"===u&&(o.indent(-1),o.row("}")),o.out("</table>")}},{key:"nodeBegin",value:function(o,u,s,c,d){o.row("&quot;"+u+"&quot;: {"),"node"===c&&o.indent(),"array"===d&&o.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"nodeEnd",value:function(o,u,s,c,d,h){"node"===c&&o.indent(-1),o.row("}"+(h?"":","))}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(o,u,s){this.formatDeltaChildren(o,u,s)}}]),r}(ke),Me=function(r){return'<pre style="display:inline-block">&quot;'+r+"&quot;</pre>"},Ht={added:function(r,l,o,u){var s=" <pre>([newValue])</pre>";return void 0===u?"new value"+s:"number"==typeof u?"insert at index "+u+s:"add property "+Me(u)+s},modified:function(r,l,o,u){var s=" <pre>([previousValue, newValue])</pre>";return void 0===u?"modify value"+s:"number"==typeof u?"modify at index "+u+s:"modify property "+Me(u)+s},deleted:function(r,l,o,u){var s=" <pre>([previousValue, 0, 0])</pre>";return void 0===u?"delete value"+s:"number"==typeof u?"remove index "+u+s:"delete property "+Me(u)+s},moved:function(r,l,o,u){return'move from <span title="(position to remove at original state)">index '+u+'</span> to <span title="(position to insert at final state)">index '+r[1]+"</span>"},textdiff:function(r,l,o,u){return"text diff"+(void 0===u?"":"number"==typeof u?" at index "+u:" at property "+Me(u))+', format is <a href="https://code.google.com/p/google-diff-match-patch/wiki/Unidiff">a variation of Unidiff</a>'}},fe=function(r,l){var o=this.getDeltaType(l),u=Ht[o],s=u&&u.apply(u,Array.prototype.slice.call(arguments,1)),c=JSON.stringify(l,null,2);"textdiff"===o&&(c=c.split("\\n").join('\\n"+\n   "')),r.indent(),r.row(c,s),r.indent(-1)};re.prototype.format_added=fe,re.prototype.format_modified=fe,re.prototype.format_deleted=fe,re.prototype.format_moved=fe,re.prototype.format_textdiff=fe;var Ze=void 0;var Bt=Object.freeze({default:re,format:function Ft(b,r){return Ze||(Ze=new re),Ze.format(b,r)}}),xe_add="add",xe_remove="remove",xe_replace="replace",xe_move="move",_e=function(b){function r(){Y(this,r);var l=oe(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return l.includeMoveDestinations=!0,l}return ne(r,b),G(r,[{key:"prepareContext",value:function(o){ge(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"prepareContext",this).call(this,o),o.result=[],o.path=[],o.pushCurrentOp=function(u){var c=u.value,d={op:u.op,path:this.currentPath()};void 0!==c&&(d.value=c),this.result.push(d)},o.pushMoveOp=function(u){var s=this.currentPath();this.result.push({op:xe_move,from:s,path:this.toPath(u)})},o.currentPath=function(){return"/"+this.path.join("/")},o.toPath=function(u){var s=this.path.slice();return s[s.length-1]=u,"/"+s.join("/")}}},{key:"typeFormattterErrorFormatter",value:function(o,u){o.out("[ERROR] "+u)}},{key:"rootBegin",value:function(){}},{key:"rootEnd",value:function(){}},{key:"nodeBegin",value:function(o,u,s){o.path.push(s)}},{key:"nodeEnd",value:function(o){o.path.pop()}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(o,u,s){this.formatDeltaChildren(o,u,s)}},{key:"format_added",value:function(o,u){o.pushCurrentOp({op:xe_add,value:u[0]})}},{key:"format_modified",value:function(o,u){o.pushCurrentOp({op:xe_replace,value:u[1]})}},{key:"format_deleted",value:function(o){o.pushCurrentOp({op:xe_remove})}},{key:"format_moved",value:function(o,u){o.pushMoveOp(u[1])}},{key:"format_textdiff",value:function(){throw new Error("Not implemented")}},{key:"format",value:function(o,u){var s={};return this.prepareContext(s),this.recurse(s,o,u),s.result}}]),r}(ke),gt=function(r){return r[r.length-1]},jt=function(r){return function(r,l){return r.sort(l),r}(r,function(l,o){var u=l.path.split("/"),s=o.path.split("/");return u.length!==s.length?u.length-s.length:function(r,l){var o=parseInt(r,10),u=parseInt(l,10);return isNaN(o)||isNaN(u)?0:u-o}(gt(u),gt(s))})},mt=function(r,l){var o=Array(l.length+1).fill().map(function(){return[]});return r.map(function(u){var s=l.map(function(c){return c(u)}).indexOf(!0);return s<0&&(s=l.length),{item:u,position:s}}).reduce(function(u,s){return u[s.position].push(s.item),u},o)},Pt=function(r){return"move"===r.op},ee=function(r){return"remove"===r.op},Ve=void 0,vt=function(r,l){return Ve||(Ve=new _e),function(r){var l=mt(r,[Pt,ee]),o=St(l,3),u=o[0],c=o[2],d=jt(o[1]);return[].concat(Oe(d),Oe(u),Oe(c))}(Ve.format(r,l))},Jt=Object.freeze({default:_e,partitionOps:mt,format:vt,log:function(r,l){console.log(vt(r,l))}});function he(b){return W&&W[b]||function(){for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return l}}var pe={added:he("green"),deleted:he("red"),movedestination:he("gray"),moved:he("yellow"),unchanged:he("gray"),error:he("white.bgRed"),textDiffLine:he("gray")},bt=function(b){function r(){Y(this,r);var l=oe(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return l.includeMoveDestinations=!1,l}return ne(r,b),G(r,[{key:"prepareContext",value:function(o){ge(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"prepareContext",this).call(this,o),o.indent=function(u){this.indentLevel=(this.indentLevel||0)+(void 0===u?1:u),this.indentPad=new Array(this.indentLevel+1).join("  "),this.outLine()},o.outLine=function(){this.buffer.push("\n"+(this.indentPad||""))},o.out=function(){for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];for(var d=0,h=s.length;d<h;d++){var p=s[d].split("\n").join("\n"+(this.indentPad||""));this.color&&this.color[0]&&(p=this.color[0](p)),this.buffer.push(p)}},o.pushColor=function(u){this.color=this.color||[],this.color.unshift(u)},o.popColor=function(){this.color=this.color||[],this.color.shift()}}},{key:"typeFormattterErrorFormatter",value:function(o,u){o.pushColor(pe.error),o.out("[ERROR]"+u),o.popColor()}},{key:"formatValue",value:function(o,u){o.out(JSON.stringify(u,null,2))}},{key:"formatTextDiffString",value:function(o,u){var s=this.parseTextDiff(u);o.indent();for(var c=0,d=s.length;c<d;c++){var h=s[c];o.pushColor(pe.textDiffLine),o.out(h.location.line+","+h.location.chr+" "),o.popColor();for(var g=h.pieces,p=0,v=g.length;p<v;p++){var _=g[p];o.pushColor(pe[_.type]),o.out(_.text),o.popColor()}c<d-1&&o.outLine()}o.indent(-1)}},{key:"rootBegin",value:function(o,u,s){o.pushColor(pe[u]),"node"===u&&(o.out("array"===s?"[":"{"),o.indent())}},{key:"rootEnd",value:function(o,u,s){"node"===u&&(o.indent(-1),o.out("array"===s?"]":"}")),o.popColor()}},{key:"nodeBegin",value:function(o,u,s,c,d){o.pushColor(pe[c]),o.out(s+": "),"node"===c&&(o.out("array"===d?"[":"{"),o.indent())}},{key:"nodeEnd",value:function(o,u,s,c,d,h){"node"===c&&(o.indent(-1),o.out("array"===d?"]":"}"+(h?"":","))),h||o.outLine(),o.popColor()}},{key:"format_unchanged",value:function(o,u,s){void 0!==s&&this.formatValue(o,s)}},{key:"format_movedestination",value:function(o,u,s){void 0!==s&&this.formatValue(o,s)}},{key:"format_node",value:function(o,u,s){this.formatDeltaChildren(o,u,s)}},{key:"format_added",value:function(o,u){this.formatValue(o,u[0])}},{key:"format_modified",value:function(o,u){o.pushColor(pe.deleted),this.formatValue(o,u[0]),o.popColor(),o.out(" => "),o.pushColor(pe.added),this.formatValue(o,u[1]),o.popColor()}},{key:"format_deleted",value:function(o,u){this.formatValue(o,u[0])}},{key:"format_moved",value:function(o,u){o.out("==> "+u[1])}},{key:"format_textdiff",value:function(o,u){this.formatTextDiffString(o,u[0])}}]),r}(ke),Ye=void 0,_t=function(r,l){return Ye||(Ye=new bt),Ye.format(r,l)};var yt=Object.freeze({default:bt,format:_t,log:function Qt(b,r){console.log(_t(b,r))}}),Zt=Object.freeze({base:$e,html:pt,annotated:Bt,jsonpatch:Jt,console:yt});var P=void 0;H.DiffPatcher=X,H.formatters=Zt,H.console=yt,H.create=function Yt(b){return new X(b)},H.dateReviver=function Vt(b,r){var l=void 0;return"string"==typeof r&&(l=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+-])(\d{2}):(\d{2}))$/.exec(r))?new Date(Date.UTC(+l[1],+l[2]-1,+l[3],+l[4],+l[5],+l[6],+(l[7]||0))):r},H.diff=function Gt(){return P||(P=new X),P.diff.apply(P,arguments)},H.patch=function zt(){return P||(P=new X),P.patch.apply(P,arguments)},H.unpatch=function Wt(){return P||(P=new X),P.unpatch.apply(P,arguments)},H.reverse=function qt(){return P||(P=new X),P.reverse.apply(P,arguments)},H.clone=function Kt(){return P||(P=new X),P.clone.apply(P,arguments)},Object.defineProperty(H,"__esModule",{value:!0})}(ze,x(907))}}]);